# Logfile created on Mon Jun 21 13:47:42 -0300 2010  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (58.1ms)[0m   [0;1mDROP DATABASE IF EXISTS `demanda_development`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE DATABASE `demanda_development` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_general_ci`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (22.1ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateRegiaos (20090616125707)
  [4;35;1mSQL (2.5ms)[0m   [0mCREATE TABLE `regiaos` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `nome` varchar(30), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mRegiao Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `regiaos`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRegiao Create (0.2ms)[0m   [0;1mINSERT INTO `regiaos` (`created_at`, `nome`, `updated_at`) VALUES('2010-06-21 16:48:01', 'SAO JERONIMO', '2010-06-21 16:48:01')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRegiao Create (0.1ms)[0m   [0mINSERT INTO `regiaos` (`created_at`, `nome`, `updated_at`) VALUES('2010-06-21 16:48:01', 'CIDADE JARDIM', '2010-06-21 16:48:01')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRegiao Create (0.2ms)[0m   [0;1mINSERT INTO `regiaos` (`created_at`, `nome`, `updated_at`) VALUES('2010-06-21 16:48:01', 'SAO VITO', '2010-06-21 16:48:01')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRegiao Create (0.2ms)[0m   [0mINSERT INTO `regiaos` (`created_at`, `nome`, `updated_at`) VALUES('2010-06-21 16:48:01', 'ZANAGA', '2010-06-21 16:48:01')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRegiao Create (3.1ms)[0m   [0;1mINSERT INTO `regiaos` (`created_at`, `nome`, `updated_at`) VALUES('2010-06-21 16:48:01', 'JARDIM IPIRANGA', '2010-06-21 16:48:01')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRegiao Create (0.3ms)[0m   [0mINSERT INTO `regiaos` (`created_at`, `nome`, `updated_at`) VALUES('2010-06-21 16:48:01', 'CENTRO', '2010-06-21 16:48:01')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRegiao Create (0.2ms)[0m   [0;1mINSERT INTO `regiaos` (`created_at`, `nome`, `updated_at`) VALUES('2010-06-21 16:48:01', 'PRAIA AZUL', '2010-06-21 16:48:01')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090616125707')[0m
Migrating to CreateGrupos (20090616130849)
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE TABLE `grupos` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `nome` varchar(50), `descricao` varchar(50), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mGrupo Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mGrupo Create (0.3ms)[0m   [0;1mINSERT INTO `grupos` (`created_at`, `nome`, `updated_at`, `descricao`) VALUES('2010-06-21 16:48:01', 'BERCARIO I', '2010-06-21 16:48:01', 'CRIANCAS DE 4 MESES A 1 ANO ')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mGrupo Create (0.3ms)[0m   [0mINSERT INTO `grupos` (`created_at`, `nome`, `updated_at`, `descricao`) VALUES('2010-06-21 16:48:01', 'BERCARIO II', '2010-06-21 16:48:01', 'CRIANCAS DE 1 ANO E 1 MES A 1 ANO E 7 MESES')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mGrupo Create (0.2ms)[0m   [0;1mINSERT INTO `grupos` (`created_at`, `nome`, `updated_at`, `descricao`) VALUES('2010-06-21 16:48:01', 'BERCARIO III', '2010-06-21 16:48:01', 'CRIANCAS DE 1 ANO E 8 MESES A 2 ANOS E 4 MESES')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mGrupo Create (0.2ms)[0m   [0mINSERT INTO `grupos` (`created_at`, `nome`, `updated_at`, `descricao`) VALUES('2010-06-21 16:48:01', 'MATERNAL I', '2010-06-21 16:48:01', 'CRIANCAS DE 2 ANOS E 5 MESES A 3 ANOS')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mGrupo Create (0.2ms)[0m   [0;1mINSERT INTO `grupos` (`created_at`, `nome`, `updated_at`, `descricao`) VALUES('2010-06-21 16:48:01', 'MATERNAL II', '2010-06-21 16:48:01', 'CRIANCAS DE 3 ANOS E 1 MES A 3 ANOS E 6 MESES')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mGrupo Create (0.2ms)[0m   [0mINSERT INTO `grupos` (`created_at`, `nome`, `updated_at`, `descricao`) VALUES('2010-06-21 16:48:01', 'NIVEL I', '2010-06-21 16:48:01', 'CRIANCAS DE 3 ANOS E 7 MESES A 4 ANOS E 6 MESES ')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mGrupo Create (0.2ms)[0m   [0;1mINSERT INTO `grupos` (`created_at`, `nome`, `updated_at`, `descricao`) VALUES('2010-06-21 16:48:01', 'NIVEL II', '2010-06-21 16:48:01', 'CRIANCAS DE 4 ANOS E 7 MESES A 5 ANOS E 6 MESES ')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090616130849')[0m
Migrating to CreateCriancas (20090616131400)
  [4;35;1mSQL (5.9ms)[0m   [0mCREATE TABLE `criancas` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `nome` varchar(50), `mae` varchar(50), `unidade_id` int(11), `regiao_id` int(11), `nascimento` date, `grupo_id` int(11), `endereco` varchar(50), `numero` varchar(10), `complemento` varchar(30), `bairro` varchar(30), `tel1` varchar(255), `tel2` varchar(255), `nomerecado` varchar(50), `celular` varchar(255), `responsavel` int(11), `nome_responsavel` varchar(30), `parentesco` varchar(255) DEFAULT 0, `trabalha` tinyint(1), `local_trabalho` varchar(255), `fonetrabalho` varchar(255), `option1` int(11) DEFAULT 0, `option2` int(11) DEFAULT 0, `option3` int(11) DEFAULT 0, `option4` int(11) DEFAULT 0, `matricula` int(11) DEFAULT 0, `unidade_matricula` int(11) DEFAULT 0, `obs` varchar(100), `status` int(11) DEFAULT 0, `posicao` int(11) DEFAULT 0, `servidor_publico` tinyint(1) DEFAULT 0, `transferencia` tinyint(1) DEFAULT 0, `obs_transf` varchar(100), `n_especial` tinyint(1) DEFAULT 0, `necessidade` varchar(100), `mudou_endereco` tinyint(1) DEFAULT 0, `gemelar` tinyint(1) DEFAULT 0, `obs_irmao` varchar(50), `historico_contato` varchar(240), `user_id` int(11) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090616131400')[0m
Migrating to CreateUnidades (20090616132325)
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE `unidades` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `nome` varchar(255), `tipo` int(11), `regiao_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mUnidade Columns (3.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.3ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(3, '2010-06-21 16:48:01', 'ARAPIRANGA', 1, '2010-06-21 16:48:01')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.3ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(3, '2010-06-21 16:48:02', 'BITU', 1, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (17.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.1ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(3, '2010-06-21 16:48:02', 'MAIRA', 1, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (3.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(3, '2010-06-21 16:48:02', 'JURITI', 1, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.2ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'JACY', 1, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (11.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'ARACY', 1, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.2ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(1, '2010-06-21 16:48:02', 'CAIC', 1, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (3.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.3ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(3, '2010-06-21 16:48:02', 'GRAUNA', 2, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.2ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(3, '2010-06-21 16:48:02', 'ARAUNA', 2, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'CARANDA', 2, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.2ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'MANAI', 2, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'ARACATI', 2, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.2ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'CUNHATAI', 2, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(1, '2010-06-21 16:48:02', 'MARACA', 2, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.2ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(1, '2010-06-21 16:48:02', 'ANAJA', 2, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(1, '2010-06-21 16:48:02', 'CHUI', 2, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.2ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(3, '2010-06-21 16:48:02', 'MANACA', 3, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'POTIRA', 3, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.2ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'PATURI', 3, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'INDAIA', 3, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.2ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'BATUIRA', 3, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'JACINA', 3, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.2ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(1, '2010-06-21 16:48:02', 'CURIMA', 3, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(1, '2010-06-21 16:48:02', 'MAJOI', 3, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.2ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(1, '2010-06-21 16:48:02', 'TAPERA', 3, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(3, '2010-06-21 16:48:02', 'CURIO', 4, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.2ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(3, '2010-06-21 16:48:02', 'TARAGUA', 4, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(3, '2010-06-21 16:48:02', 'URUPE', 4, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.2ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'PATATIVA', 4, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'ARACARI', 4, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.2ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'CURUMIM', 4, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(3, '2010-06-21 16:48:02', 'TAHIRA', 5, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.2ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'BORE', 5, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'CECI', 5, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.2ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'CORIMBO', 5, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'TANGARA', 5, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.1ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'BACURI', 6, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(2, '2010-06-21 16:48:02', 'SABIA', 6, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUnidade Create (0.2ms)[0m   [0;1mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(3, '2010-06-21 16:48:02', 'PITANGA', 7, '2010-06-21 16:48:02')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUnidade Create (0.2ms)[0m   [0mINSERT INTO `unidades` (`tipo`, `created_at`, `nome`, `regiao_id`, `updated_at`) VALUES(3, '2010-06-21 16:48:02', 'PANAMBY', 7, '2010-06-21 16:48:02')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090616132325')[0m
Migrating to CreateUsers (20100128092312)
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(255), `email` varchar(255), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(255), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mUser Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (15.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'administrador') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100128092312')[0m
Migrating to CreateRoles (20100128092358)
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE `roles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255)) ENGINE=InnoDB[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE `roles_users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `role_id` int(11), `user_id` int(11)) ENGINE=InnoDB[0m
  [4;35;1mSQL (5.1ms)[0m   [0mCREATE INDEX `index_roles_users_on_role_id` ON `roles_users` (`role_id`)[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mCREATE INDEX `index_roles_users_on_user_id` ON `roles_users` (`user_id`)[0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Create (0.2ms)[0m   [0mINSERT INTO `roles` (`name`) VALUES('admin')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`) VALUES('seduc')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`) VALUES('externo')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`) VALUES('escola')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`) VALUES('escriturario')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRolesUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRolesUser Create (0.2ms)[0m   [0mINSERT INTO `roles_users` (`role_id`, `user_id`) VALUES(1, 1)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100128092358')[0m
Migrating to CreateLogs (20100202154711)
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE `logs` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `obs` varchar(255), `data` varchar(255), `crianca_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100202154711')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mdescribe `criancas`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `criancas`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mdescribe `grupos`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `grupos`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW FIELDS FROM `logs`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `logs`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `logs`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `regiaos`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `regiaos`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `regiaos`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `roles`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `roles`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mSQL (48.8ms)[0m   [0mdescribe `roles_users`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `roles_users`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `unidades`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `unidades`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `users`[0m


Processing HomeController#index (for 127.0.0.1 at 2010-06-21 13:49:15) [GET]
  [4;36;1mSQL (9.7ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 18ms (DB: 11) | 302 Found [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-21 13:49:15) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
Rendering template within layouts/login
Rendering sessions/new
Completed in 15ms (View: 11, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#create (for 127.0.0.1 at 2010-06-21 13:49:22) [POST]
  Parameters: {"commit"=>"Entrar", "authenticity_token"=>"b7fc46a9c019c4c99d943c334d17663c1bf0b027", "login"=>"administrador", "password"=>"s3inf09"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (login = 'administrador' and activated_at IS NOT NULL) LIMIT 1[0m
Rendering template within layouts/login
Rendering sessions/new
Completed in 30ms (View: 8, DB: 1) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2010-06-21 13:49:33) [POST]
  Parameters: {"commit"=>"Entrar", "authenticity_token"=>"b7fc46a9c019c4c99d943c334d17663c1bf0b027", "login"=>"administrador", "password"=>"s3inf09"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (login = 'administrador' and activated_at IS NOT NULL) LIMIT 1[0m
Rendering template within layouts/login
Rendering sessions/new
Completed in 24ms (View: 8, DB: 0) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2010-06-21 13:50:27) [POST]
  Parameters: {"commit"=>"Entrar", "authenticity_token"=>"b7fc46a9c019c4c99d943c334d17663c1bf0b027", "login"=>"administrador", "password"=>"s3inf09"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (login = 'administrador' and activated_at IS NOT NULL) LIMIT 1[0m
Rendering template within layouts/login
Rendering sessions/new
Completed in 34ms (View: 12, DB: 0) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2010-06-21 13:51:16) [POST]
  Parameters: {"commit"=>"Entrar", "authenticity_token"=>"b7fc46a9c019c4c99d943c334d17663c1bf0b027", "login"=>"administrador", "password"=>"s3inf09"}
  [4;35;1mSQL (12.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (login = 'administrador' and activated_at IS NOT NULL) LIMIT 1[0m
Rendering template within layouts/login
Rendering sessions/new
Completed in 25ms (View: 8, DB: 12) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2010-06-21 13:51:24) [POST]
  Parameters: {"commit"=>"Entrar", "authenticity_token"=>"b7fc46a9c019c4c99d943c334d17663c1bf0b027", "login"=>"Administrador", "password"=>"s3inf09"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (login = 'Administrador' and activated_at IS NOT NULL) LIMIT 1[0m
Rendering template within layouts/login
Rendering sessions/new
Completed in 33ms (View: 11, DB: 1) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2010-06-21 13:51:38) [POST]
  Parameters: {"commit"=>"Entrar", "authenticity_token"=>"b7fc46a9c019c4c99d943c334d17663c1bf0b027", "login"=>"administrador", "password"=>"s3inf09"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (login = 'administrador' and activated_at IS NOT NULL) LIMIT 1[0m
Rendering template within layouts/login
Rendering sessions/new
Completed in 110ms (View: 11, DB: 0) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2010-06-21 13:52:13) [POST]
  Parameters: {"commit"=>"Entrar", "authenticity_token"=>"b7fc46a9c019c4c99d943c334d17663c1bf0b027", "login"=>"Administrador", "password"=>"s3inf09"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (login = 'Administrador' and activated_at IS NOT NULL) LIMIT 1[0m
Rendering template within layouts/login
Rendering sessions/new
Completed in 33ms (View: 11, DB: 0) | 200 OK [http://localhost/session]


Processing UsersController#new (for 127.0.0.1 at 2010-06-21 13:53:41) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
Rendering template within layouts/cad_user
Rendering users/new
Completed in 17ms (View: 12, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-06-21 13:54:06) [POST]
  Parameters: {"commit"=>"Increver-se", "authenticity_token"=>"b7fc46a9c019c4c99d943c334d17663c1bf0b027", "user"=>{"password_confirmation"=>"musand", "password"=>"musand", "login"=>"naor", "email"=>"naorgarciaf@hotmail.com"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
Sent mail to naorgarciaf@hotmail.com

From: demanda@ribeirosoares.com
To: naorgarciaf@hotmail.com
Subject: =?utf-8?Q?Usu=c3=a1rio_Cadastrado_com_sucesso?=
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>Cadastro efetuado com sucesso</h1>

<h2>Bem Vindo ao Sistema de controle de Demanda infantil - Sisdemanda</h2>
<h3>Prefeitura Municipal de Americana - Secretaria de Educa√ß√£o</h3>

<p>Obrigado pelo cadastro</p>

<p>
  <b>Usu√°rio / login: </b>
  <font color="red"> naor</font><br/>
  <b>Password / senha: </b>
  <font color="red"> musand</font>
</p>


Site: <a href="www.sisdemanda.rg3.net">Acessar SisDemanda</a>
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'naor') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`salt`, `created_at`, `activated_at`, `crypted_password`, `remember_token_expires_at`, `updated_at`, `activation_code`, `remember_token`, `login`, `email`) VALUES('da7468e76a36eb5e807260220d196fee8dbdd127', '2010-06-21 16:54:13', NULL, 'f103c695baf7050a5f5178545be32d2d72292c1a', NULL, '2010-06-21 16:54:13', 'dfb1b60191e01dc22c2f5bf306d24508a786017d', NULL, 'naor', 'naorgarciaf@hotmail.com')[0m
  [4;35;1mRolesUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRolesUser Create (0.3ms)[0m   [0;1mINSERT INTO `roles_users` (`role_id`, `user_id`) VALUES(3, 1)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/cad_user
Rendering users/aviso
Completed in 7050ms (View: 9, DB: 5) | 200 OK [http://localhost/users]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-06-21 13:54:16) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /
Completed in 94ms (DB: 2) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-06-21 13:54:16) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (DB: 0) | 302 Found [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-21 13:54:16) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
Rendering template within layouts/login
Rendering sessions/new
Completed in 12ms (View: 8, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#create (for 127.0.0.1 at 2010-06-21 13:54:24) [POST]
  Parameters: {"commit"=>"Entrar", "authenticity_token"=>"7f65a382b9fd9d65cb659501ec273d210e5510d9", "login"=>"Administrador", "password"=>"s3inf0"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (login = 'Administrador' and activated_at IS NOT NULL) LIMIT 1[0m
Rendering template within layouts/login
Rendering sessions/new
Completed in 34ms (View: 11, DB: 1) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2010-06-21 13:54:33) [POST]
  Parameters: {"commit"=>"Entrar", "authenticity_token"=>"7f65a382b9fd9d65cb659501ec273d210e5510d9", "login"=>"Administrador", "password"=>"s3inf09"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (login = 'Administrador' and activated_at IS NOT NULL) LIMIT 1[0m
Rendering template within layouts/login
Rendering sessions/new
Completed in 128ms (View: 11, DB: 0) | 200 OK [http://localhost/session]


Processing HomeController#index (for 127.0.0.1 at 2010-06-21 13:56:18) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (DB: 0) | 302 Found [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-21 13:56:18) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
Rendering template within layouts/login
Rendering sessions/new
Completed in 16ms (View: 11, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#create (for 127.0.0.1 at 2010-06-21 13:56:26) [POST]
  Parameters: {"commit"=>"Entrar", "authenticity_token"=>"7f65a382b9fd9d65cb659501ec273d210e5510d9", "login"=>"Administrador", "password"=>"s3inf09"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (login = 'Administrador' and activated_at IS NOT NULL) LIMIT 1[0m
Rendering template within layouts/login
Rendering sessions/new
Completed in 25ms (View: 8, DB: 0) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2010-06-21 13:56:28) [POST]
  Parameters: {"commit"=>"Entrar", "authenticity_token"=>"7f65a382b9fd9d65cb659501ec273d210e5510d9", "login"=>"", "password"=>""}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (login = '' and activated_at IS NOT NULL) LIMIT 1[0m
Rendering template within layouts/login
Rendering sessions/new
Completed in 34ms (View: 11, DB: 1) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2010-06-21 13:56:29) [POST]
  Parameters: {"commit"=>"Entrar", "authenticity_token"=>"7f65a382b9fd9d65cb659501ec273d210e5510d9", "login"=>"", "password"=>""}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (login = '' and activated_at IS NOT NULL) LIMIT 1[0m
Rendering template within layouts/login
Rendering sessions/new
Completed in 32ms (View: 10, DB: 0) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2010-06-21 13:56:29) [POST]
  Parameters: {"commit"=>"Entrar", "authenticity_token"=>"7f65a382b9fd9d65cb659501ec273d210e5510d9", "login"=>"", "password"=>""}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (login = '' and activated_at IS NOT NULL) LIMIT 1[0m
Rendering template within layouts/login
Rendering sessions/new
Completed in 36ms (View: 11, DB: 0) | 200 OK [http://localhost/session]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCrianca Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.5ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 243) [0m


Processing HomeController#index (for 127.0.0.1 at 2010-07-27 13:23:07) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 94ms (View: 60, DB: 2) | 200 OK [http://localhost/]


Processing LogsController#log_user (for 127.0.0.1 at 2010-07-27 13:23:09) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "log_user_id"=>"2"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` ORDER BY login[0m
  [4;36;1mLog Load (0.7ms)[0m   [0;1mSELECT * FROM `logs` WHERE (user_id = 2) [0m
Rendered logs/_logs (0.6ms)
Completed in 133ms (View: 95, DB: 2) | 200 OK [http://localhost/logs/log_user]


Processing LogsController#log_user (for 127.0.0.1 at 2010-07-27 13:23:11) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "log_user_id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY login[0m
  [4;36;1mLog Load (0.6ms)[0m   [0;1mSELECT * FROM `logs` WHERE (user_id = 1) [0m
  [4;35;1mLog Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `logs`[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCrianca Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.4ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` IS NULL) LIMIT 1[0m
  [4;36;1mCrianca Load (0.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 551) LIMIT 1[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` IS NULL) LIMIT 1[0m
  [4;36;1mCrianca Load (0.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 551) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 551) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 551) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCrianca Load (0.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 105) LIMIT 1[0m
  [4;35;1mCrianca Load (0.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 105) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 105) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 105) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 105) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 105) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 105) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 105) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCrianca Load (1.3ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1) LIMIT 1[0m


ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.empty?) on line #30 of app/views/logs/_logs.html.erb:
27:             <td width="50%"><center>TODAS AS CRIANCAS</center></td>
28:           <%else%>
29:           <% @crianca_existe = Crianca.find_by_id(log.crianca_id) %>
30:           <%if !(@crianca_existe.nil?) or !(@crianca_existe.empty?) %>
31:           <% if log.obs == "Apagado" %>
32:               <td width="50%"><center><%=  log.crianca_id %> - Com a exclus√£o da crian√ßa, imposs√≠vel exibir seu nome.</center></td>
33:             <%else%>

    app/views/logs/_logs.html.erb:30
    app/views/logs/_logs.html.erb:21:in `each'
    app/views/logs/_logs.html.erb:21
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `render'
    vendor/rails/actionpack/lib/action_view/renderable_partial.rb:20:in `render'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:26:in `benchmark'
    vendor/rails/actionpack/lib/action_view/renderable_partial.rb:19:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/renderable_partial.rb:45:in `render_partial'
    vendor/rails/actionpack/lib/action_view/partials.rb:152:in `render_partial'
    vendor/rails/actionpack/lib/action_view/base.rb:258:in `render'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:1002:in `render'
    vendor/plugins/jrails/lib/jrails.rb:79:in `insert_html'
    vendor/plugins/jrails/lib/jrails.rb:83:in `replace_html'
    app/controllers/logs_controller.rb:16:in `log_user'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:587:in `instance_exec'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:587:in `initialize'
    vendor/rails/actionpack/lib/action_view/helpers/capture_helper.rb:129:in `with_output_buffer'
    vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:586:in `initialize'
    vendor/rails/actionpack/lib/action_controller/base.rb:932:in `new'
    vendor/rails/actionpack/lib/action_controller/base.rb:932:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    app/controllers/logs_controller.rb:15:in `log_user'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (113.8ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.6ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#relatorio_crianca (for 127.0.0.1 at 2010-07-27 13:24:53) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.4ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (1.5ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (1.4ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (63.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (50.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering criancas/relatorio_crianca
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 725ms (View: 57, DB: 119) | 200 OK [http://localhost/crianca/relatorio_crianca]


Processing CriancasController#relatorio_crianca (for 127.0.0.1 at 2010-07-27 13:24:55) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.3ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.3ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering criancas/relatorio_crianca
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 696ms (View: 58, DB: 11) | 200 OK [http://localhost/crianca/relatorio_crianca]


Processing CriancasController#search (for 127.0.0.1 at 2010-07-27 13:25:00) [POST]
  Parameters: {"commit"=>"Filtrar", "method"=>"get", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "search"=>"otavio"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (6.3ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.9ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (12.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (nome like '%otavio%') [0m
  [4;36;1mCrianca Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mGrupo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mGrupo Load (0.3ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` IN (1,2,3,4)) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` IN (9,26,39,40,28,41,2,3,32)) [0m
Rendering template within layouts/application
Rendering criancas/relatorio_crianca
  [4;35;1mJoin Table Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 786ms (View: 70, DB: 31) | 200 OK [http://localhost/criancas/search?method=get]


Processing CriancasController#show (for 127.0.0.1 at 2010-07-27 13:25:02) [GET]
  Parameters: {"method"=>"get", "id"=>"search"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.3ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 0) [0m


ActiveRecord::RecordNotFound (Couldn't find Crianca with ID=search):
    /vendor/rails/activerecord/lib/active_record/base.rb:1528:in `find_one'
    /vendor/rails/activerecord/lib/active_record/base.rb:1511:in `find_from_ids'
    /vendor/rails/activerecord/lib/active_record/base.rb:590:in `find'
    /app/controllers/criancas_controller.rb:37:in `show'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (86.3ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (1.9ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing CriancasController#show (for 127.0.0.1 at 2010-07-27 13:25:11) [GET]
  Parameters: {"id"=>"288"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (5.5ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.4ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 288) [0m
Rendering template within layouts/application
Rendering criancas/show
  [4;36;1mGrupo Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mGrupo Load (0.5ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 4) [0m
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.8ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 41) LIMIT 1[0m
  [4;36;1mRegiao Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `regiaos`[0m
  [4;35;1mRegiao Load (0.3ms)[0m   [0mSELECT * FROM `regiaos` WHERE (`regiaos`.`id` = 3) LIMIT 1[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 41) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 23) LIMIT 1[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 25) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1028ms (View: 333, DB: 21) | 200 OK [http://localhost/criancas/288]


Processing CriancasController#show (for 127.0.0.1 at 2010-07-27 13:25:13) [GET]
  Parameters: {"id"=>"288"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.8ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.3ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 288) [0m
Rendering template within layouts/application
Rendering criancas/show
  [4;35;1mGrupo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 4) [0m
  [4;35;1mJoin Table Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 733ms (View: 85, DB: 16) | 200 OK [http://localhost/criancas/288]


Processing CriancasController#destroy (for 127.0.0.1 at 2010-07-27 13:25:37) [DELETE]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"540"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mCrianca Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.5ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 540) [0m
  [4;36;1mLog Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `logs`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mLog Create (0.3ms)[0m   [0;1mINSERT INTO `logs` (`obs`, `data`, `created_at`, `updated_at`, `user_id`, `crianca_id`) VALUES('Apagado', '27/07/10 13:25', '2010-07-27 16:25:38', '2010-07-27 16:25:38', 1, 540)[0m
  [4;35;1mSQL (37.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCrianca Destroy (0.3ms)[0m   [0mDELETE FROM `criancas` WHERE `id` = 540[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3001/criancas
Completed in 676ms (DB: 56) | 302 Found [http://localhost/criancas/540]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-27 13:25:38) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (58.7ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (50.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (27.8ms)[0m   [0;1mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;35;1mJoin Table Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (26.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` [0m
  [4;35;1mCrianca Load (15.4ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;36;1mCrianca Load (27.3ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (302.4ms)
Completed in 1392ms (View: 327, DB: 182) | 200 OK [http://localhost/criancas]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-27 13:25:40) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.6ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.3ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (5.6ms)[0m   [0;1mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (25.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` [0m
  [4;35;1mCrianca Load (0.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (388.1ms)
Completed in 1316ms (View: 445, DB: 24) | 200 OK [http://localhost/criancas]


Processing CriancasController#relatorio_crianca (for 127.0.0.1 at 2010-07-27 13:26:36) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.8ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering criancas/relatorio_crianca
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 824ms (View: 139, DB: 12) | 200 OK [http://localhost/crianca/relatorio_crianca]


Processing CriancasController#relatorio_crianca (for 127.0.0.1 at 2010-07-27 13:26:38) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering criancas/relatorio_crianca
  [4;36;1mJoin Table Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 584ms (View: 55, DB: 10) | 200 OK [http://localhost/crianca/relatorio_crianca]


Processing CriancasController#search (for 127.0.0.1 at 2010-07-27 13:26:44) [POST]
  Parameters: {"commit"=>"Filtrar", "method"=>"get", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "search"=>"otavio"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (12.9ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (nome like '%otavio%') [0m
  [4;35;1mCrianca Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mGrupo Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` IN (1,2,3,4)) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` IN (9,26,39,40,41,2,3,32)) [0m
Rendering template within layouts/application
Rendering criancas/relatorio_crianca
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 756ms (View: 71, DB: 28) | 200 OK [http://localhost/criancas/search?method=get]


Processing CriancasController#show (for 127.0.0.1 at 2010-07-27 13:26:45) [GET]
  Parameters: {"method"=>"get", "id"=>"search"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.6ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (6.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.4ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 0) [0m


ActiveRecord::RecordNotFound (Couldn't find Crianca with ID=search):
    /vendor/rails/activerecord/lib/active_record/base.rb:1528:in `find_one'
    /vendor/rails/activerecord/lib/active_record/base.rb:1511:in `find_from_ids'
    /vendor/rails/activerecord/lib/active_record/base.rb:590:in `find'
    /app/controllers/criancas_controller.rb:37:in `show'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (84.3ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (1.8ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing CriancasController#destroy (for 127.0.0.1 at 2010-07-27 13:26:53) [DELETE]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"917"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.3ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.4ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 917) [0m
  [4;36;1mLog Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `logs`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mLog Create (0.3ms)[0m   [0;1mINSERT INTO `logs` (`obs`, `data`, `created_at`, `updated_at`, `user_id`, `crianca_id`) VALUES('Apagado', '27/07/10 13:26', '2010-07-27 16:26:54', '2010-07-27 16:26:54', 1, 917)[0m
  [4;35;1mSQL (7.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCrianca Destroy (0.2ms)[0m   [0mDELETE FROM `criancas` WHERE `id` = 917[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3001/criancas
Completed in 644ms (DB: 24) | 302 Found [http://localhost/criancas/917]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-27 13:26:54) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.4ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (59.5ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (66.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (33.9ms)[0m   [0;1mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (17.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` [0m
  [4;35;1mCrianca Load (14.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;36;1mCrianca Load (38.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (348.3ms)
Completed in 1679ms (View: 526, DB: 216) | 200 OK [http://localhost/criancas]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-27 13:26:57) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (4.4ms)[0m   [0;1mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;35;1mJoin Table Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (15.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` [0m
  [4;35;1mCrianca Load (0.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (362.1ms)
Completed in 1275ms (View: 412, DB: 21) | 200 OK [http://localhost/criancas]


Processing CriancasController#config (for 127.0.0.1 at 2010-07-27 13:27:08) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.5ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_configuracao (3.5ms)
Completed in 472ms (View: 6, DB: 12) | 200 OK [http://localhost/criancas/config]


Processing LogsController#index (for 127.0.0.1 at 2010-07-27 13:27:10) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY login[0m
  [4;36;1mLog Load (0.3ms)[0m   [0;1mSELECT * FROM `logs` [0m
Rendering template within layouts/application
Rendering logs/index
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
Rendered logs/_selecione_usuario (20.7ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 141ms (View: 88, DB: 5) | 200 OK [http://localhost/logs]


Processing LogsController#index (for 127.0.0.1 at 2010-07-27 13:27:11) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY login[0m
  [4;35;1mLog Load (0.1ms)[0m   [0mSELECT * FROM `logs` [0m
Rendering template within layouts/application
Rendering logs/index
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
Rendered logs/_selecione_usuario (10.6ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 102ms (View: 61, DB: 3) | 200 OK [http://localhost/logs]


Processing LogsController#log_user (for 127.0.0.1 at 2010-07-27 13:27:13) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "log_user_id"=>"1"}
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY login[0m
  [4;36;1mLog Load (0.4ms)[0m   [0;1mSELECT * FROM `logs` WHERE (user_id = 1) [0m
  [4;35;1mLog Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `logs`[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCrianca Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (1.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 917) LIMIT 1[0m
Rendered logs/_logs (69.4ms)
Completed in 140ms (View: 74, DB: 9) | 200 OK [http://localhost/logs/log_user]


Processing HomeController#index (for 127.0.0.1 at 2010-07-27 14:07:02) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mJoin Table Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 71ms (View: 42, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-07-27 14:07:03) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mJoin Table Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 123ms (View: 70, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-07-28 08:06:40) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 228ms (View: 158, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-07-28 08:06:42) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 76ms (View: 46, DB: 2) | 200 OK [http://localhost/]


Processing CriancasController#crianca_anterior (for 127.0.0.1 at 2010-07-28 08:06:56) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (6.3ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (0.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 1 and id not in (select crianca_id from matriculas)) [0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT `matriculas`.* FROM `matriculas` WHERE (`matriculas`.crianca_id IN (75,79,83,91,94,98,105,109,114,120,121,151,172,190,191,193,195,196,201,210,222,239,243,247,250,254,255,272,273,274,294,322,336,337,338,346,348,352,354,359,360,362,363,364,365,366,367,369,374,377,379,380,391,392,398,399,400,402,407,411,413,419,420,423,426,427,428,429,441,445,456,457,458,459,460,466,469,477,482,485,486,492,543,544,546,549,552,567,572,575,576,578,584,586,589,592,593,594,595,596,598,599,600,601,602,603,612,618,620,640,649,651,653,654,665,681,697,708,714,715,726,731,756,758,768,776,777,778,784,788,790,793,795,796,797,798,799,810,824,837,886,912,919,1040,1081,1082,1103,1104,1110,1118,1120,1139,1141,1142,1143,1145,1148,1149,1156,1220,1486,1519,1544)) [0m
Rendering template within layouts/application
Rendering criancas/crianca_anterior
  [4;36;1mJoin Table Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 852ms (View: 86, DB: 15) | 200 OK [http://localhost/crianca_anterior]


Processing CriancasController#crianca_anterior (for 127.0.0.1 at 2010-07-28 08:06:57) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.8ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (5.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (0.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 1 and id not in (select crianca_id from matriculas)) [0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT `matriculas`.* FROM `matriculas` WHERE (`matriculas`.crianca_id IN (75,79,83,91,94,98,105,109,114,120,121,151,172,190,191,193,195,196,201,210,222,239,243,247,250,254,255,272,273,274,294,322,336,337,338,346,348,352,354,359,360,362,363,364,365,366,367,369,374,377,379,380,391,392,398,399,400,402,407,411,413,419,420,423,426,427,428,429,441,445,456,457,458,459,460,466,469,477,482,485,486,492,543,544,546,549,552,567,572,575,576,578,584,586,589,592,593,594,595,596,598,599,600,601,602,603,612,618,620,640,649,651,653,654,665,681,697,708,714,715,726,731,756,758,768,776,777,778,784,788,790,793,795,796,797,798,799,810,824,837,886,912,919,1040,1081,1082,1103,1104,1110,1118,1120,1139,1141,1142,1143,1145,1148,1149,1156,1220,1486,1519,1544)) [0m
Rendering template within layouts/application
Rendering criancas/crianca_anterior
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 890ms (View: 101, DB: 15) | 200 OK [http://localhost/crianca_anterior]


Processing MatriculasController#new (for 127.0.0.1 at 2010-07-28 08:07:00) [GET]
  Parameters: {"crianca_id"=>"75"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCrianca Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 75) [0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 75) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 75) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id = 1) [0m
  [4;36;1mMatricula Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendering template within layouts/application
Rendering matriculas/new
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 75) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mGrupo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 353ms (View: 194, DB: 11) | 200 OK [http://localhost/criancas/75/matriculas/new]


Processing MatriculasController#new (for 127.0.0.1 at 2010-07-28 08:07:01) [GET]
  Parameters: {"crianca_id"=>"75"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCrianca Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 75) [0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 75) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 75) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id = 1) [0m
  [4;35;1mMatricula Columns (3.9ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendering template within layouts/application
Rendering matriculas/new
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 75) [0m
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mGrupo Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 338ms (View: 186, DB: 12) | 200 OK [http://localhost/criancas/75/matriculas/new]


Processing MatriculasController#create (for 127.0.0.1 at 2010-07-28 08:07:12) [POST]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_id"=>"75", "matricula"=>{"ministrar_p_s"=>"0", "fone_com_mae"=>"", "tratamento"=>"0", "fone_res_mae"=>"", "horario_trab_pai"=>"", "fone_com_resp"=>"", "nome_resp"=>"", "nome_mae"=>"ELIEGIA FONSECA", "dt_nasc_pai(1i)"=>"2010", "idade_pai"=>"", "religiao"=>"", "livro_reg"=>"", "ano_1"=>"2008", "end_trab_resp"=>"", "idade_resp"=>"", "local_trabalho_mae"=>"COSTUREIRA", "dt_nasc_pai(2i)"=>"7", "folhas_reg"=>"", "num_registro"=>"", "ano_2"=>"2008", "ap_fluor"=>"0", "dt_nasc_mae(1i)"=>"2010", "dt_nasc_pai(3i)"=>"28", "ano_3"=>"2008", "ra"=>"111111", "horario_trab_mae"=>"", "dt_nasc_mae(2i)"=>"7", "idade_mae"=>"", "fone_celular_pai"=>"", "profissao_pai"=>"", "ano_4"=>"2008", "pc_tarde_1"=>"", "pc_manha_1"=>"", "unidade_id"=>"1", "atividades_extra_classe"=>"0", "num_filhos"=>"", "dt_nasc_mae(3i)"=>"28", "end_trab_pai"=>"", "uf"=>"", "pc_tarde_2"=>"", "pc_manha_2"=>"", "fone_res_resp"=>"", "fone_com_pai"=>"", "pc_tarde_3"=>"", "pc_manha_3"=>"", "grupo_1"=>"2", "tipo_relacionamento"=>"", "fone_celular_resp"=>"", "profissao_resp"=>"", "dt_nasc_resp(1i)"=>"2010", "fone_res_pai"=>"", "pc_tarde_4"=>"", "pc_manha_4"=>"", "grupo_2"=>"2", "dt_nasc_resp(2i)"=>"7", "profissao_mae"=>"", "nome_pai"=>"", "local_nascimento"=>"", "grupo_3"=>"2", "horario_trab_resp"=>"", "local_trabalho_resp"=>"", "dt_nasc_resp(3i)"=>"28", "end_trab_mae"=>"", "local_trabalho_pai"=>"", "cor_raca"=>"", "grupo_4"=>"2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCrianca Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 75) [0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 75) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 75) [0m
  [4;35;1mUnidade Load (0.6ms)[0m   [0mSELECT * FROM `unidades` WHERE (id = 1) [0m
  [4;36;1mMatricula Columns (5.8ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMatricula Create (23.6ms)[0m   [0;1mINSERT INTO `matriculas` (`grupo_3`, `nome_pai`, `rua_emergencia`, `ano_4`, `idade_mae`, `created_at`, `fone_com_mae`, `grupo_4`, `atividades_extra_classe`, `unidade_id`, `ra`, `escolaridade_mae`, `end_trab_resp`, `estado_civil`, `profissao_pai`, `fone_celular_pai`, `horario_trab_pai`, `ano_letivo`, `dt_nasc_pai`, `num_emergencia`, `local_trabalho_pai`, `dt_nasc_resp`, `cor_raca`, `fone_com_pai`, `bairro_emergencia`, `idade_pai`, `nome_resp`, `escolaridade_pai`, `local_nascimento`, `fone_celular_resp`, `fone_res_resp`, `folhas_reg`, `num_registro`, `updated_at`, `fone_res_mae`, `tratamento`, `moradia`, `religiao`, `end_trab_mae`, `profissao_resp`, `ap_fluor`, `estado_civil_mae`, `nome_mae`, `tipo_relacionamento`, `num_filhos`, `pc_manha_1`, `idade_resp`, `fone_com_resp`, `ministrar_p_s`, `estado_civil_resp`, `profissao_mae`, `fone_celular_mae`, `uf`, `pc_manha_2`, `vaga_num`, `contato_emergencia`, `crianca_id`, `local_trabalho_resp`, `pc_manha_3`, `pc_tarde_1`, `horario_trab_mae`, `livro_reg`, `ano_1`, `dt_nasc_mae`, `horario_trab_resp`, `pc_manha_4`, `fone_res_pai`, `pc_tarde_2`, `escolaridade_resp`, `ano_2`, `pais_vivem_juntos`, `pc_tarde_3`, `grupo_1`, `PNE`, `local_trabalho_mae`, `ano_3`, `end_trab_pai`, `pc_tarde_4`, `grupo_2`, `telefone_emergencia`) VALUES(2, '', NULL, '2008', NULL, '2010-07-28 11:07:12', '', 2, 0, 1, 111111, NULL, '', NULL, '', '', '', NULL, '2010-07-28', NULL, '', '2010-07-28', '', '', NULL, NULL, '', NULL, '', '', '', NULL, '', '2010-07-28 11:07:12', '', 0, NULL, '', '', '', 0, NULL, 'ELIEGIA FONSECA', '', NULL, '', NULL, '', 0, NULL, '', NULL, '', '', NULL, NULL, 75, '', '', '', '', '', '2008', '2010-07-28', '', '', '', '', NULL, '2008', NULL, '', 2, NULL, 'COSTUREIRA', '2008', '', '', 2, NULL)[0m
  [4;35;1mSQL (12.6ms)[0m   [0mCOMMIT[0m
Redirected to #<Crianca:0xb57bfb00>#<Matricula:0xb57907c4>
Completed in 279ms (DB: 47) | 302 Found [http://localhost/criancas/75/matriculas]


Processing MatriculasController#show (for 127.0.0.1 at 2010-07-28 08:07:12) [GET]
  Parameters: {"id"=>"7", "crianca_id"=>"75"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCrianca Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 75) [0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 75) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 75) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id = 1) [0m
  [4;36;1mMatricula Columns (3.9ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.6ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 7 AND (`matriculas`.crianca_id = 75)) [0m
Rendering template within layouts/application
Rendering matriculas/show
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 1) [0m
  [4;36;1mGrupo Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 2) [0m
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 358ms (View: 237, DB: 14) | 200 OK [http://localhost/criancas/75/matriculas/7]


Processing MatriculasController#show (for 127.0.0.1 at 2010-07-28 08:07:14) [GET]
  Parameters: {"id"=>"7", "crianca_id"=>"75"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 75) [0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 75) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 75) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id = 1) [0m
  [4;36;1mMatricula Columns (3.9ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 7 AND (`matriculas`.crianca_id = 75)) [0m
Rendering template within layouts/application
Rendering matriculas/show
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 1) [0m
  [4;36;1mGrupo Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 2) [0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 241ms (View: 136, DB: 12) | 200 OK [http://localhost/criancas/75/matriculas/7]


Processing HomeController#index (for 127.0.0.1 at 2010-07-28 11:45:22) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 81ms (View: 53, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-07-28 11:45:24) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 71ms (View: 43, DB: 1) | 200 OK [http://localhost/]


Processing VagasController#new (for 127.0.0.1 at 2010-07-28 11:45:31) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
Rendering template within layouts/application
Rendering vagas/new
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` [0m
  [4;36;1mUnidade Columns (4.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 272ms (View: 234, DB: 10) | 200 OK [http://localhost/vagas/new]


Processing VagasController#new (for 127.0.0.1 at 2010-07-28 11:45:33) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
Rendering template within layouts/application
Rendering vagas/new
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 119ms (View: 97, DB: 5) | 200 OK [http://localhost/vagas/new]


Processing VagasController#create (for 127.0.0.1 at 2010-07-28 11:46:30) [POST]
  Parameters: {"commit"=>"Cadastrar", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "vaga"=>{"unidade_id"=>"1", "ano_letivo"=>"2010", "qtde_vagas"=>"30"}}
  [4;36;1mSQL (0.6ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mVaga Create (0.3ms)[0m   [0;1mINSERT INTO `vagas` (`created_at`, `updated_at`, `unidade_id`, `qtde_vagas`, `vagas_preenchidas`, `ano_letivo`) VALUES('2010-07-28 14:46:30', '2010-07-28 14:46:30', 1, 30, 0, 2010)[0m
  [4;35;1mSQL (4.9ms)[0m   [0mCOMMIT[0m
Redirected to #<Vaga:0xb5f82810>
Completed in 51ms (DB: 7) | 302 Found [http://localhost/vagas]


Processing VagasController#show (for 127.0.0.1 at 2010-07-28 11:46:31) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (3.7ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.3ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`id` = 5) [0m
Rendering template within layouts/application
Rendering vagas/show
  [4;36;1mUnidade Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 1) [0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 161ms (View: 125, DB: 9) | 200 OK [http://localhost/vagas/5]


Processing VagasController#show (for 127.0.0.1 at 2010-07-28 11:46:32) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mVaga Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`id` = 5) [0m
Rendering template within layouts/application
Rendering vagas/show
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 1) [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 106ms (View: 84, DB: 5) | 200 OK [http://localhost/vagas/5]


Processing VagasController#new (for 127.0.0.1 at 2010-07-28 11:46:35) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
Rendering template within layouts/application
Rendering vagas/new
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 221ms (View: 107, DB: 5) | 200 OK [http://localhost/vagas/new]


Processing VagasController#new (for 127.0.0.1 at 2010-07-28 11:46:36) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
Rendering template within layouts/application
Rendering vagas/new
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 130ms (View: 99, DB: 6) | 200 OK [http://localhost/vagas/new]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 11:46:49) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (5.2ms)[0m   [0mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (22.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` [0m
  [4;36;1mCrianca Load (0.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;35;1mCrianca Load (5.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (238.7ms)
Completed in 1009ms (View: 291, DB: 22) | 200 OK [http://localhost/criancas]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 11:46:52) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.6ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (16.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` [0m
  [4;36;1mCrianca Load (0.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (244.0ms)
Completed in 1039ms (View: 293, DB: 21) | 200 OK [http://localhost/criancas]


Processing CriancasController#consulta (for 127.0.0.1 at 2010-07-28 11:46:55) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mGrupo Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mCrianca Load (0.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;36;1mCrianca Load (14.3ms)[0m   [0;1mSelect * from criancas where matricula = 1 and unidade_matricula = option1[0m
  [4;35;1mCrianca Load (12.0ms)[0m   [0mSelect * from criancas where matricula = 1 and unidade_matricula = option2[0m
  [4;36;1mCrianca Load (19.1ms)[0m   [0;1mSelect * from criancas where matricula = 1 and unidade_matricula = option3[0m
  [4;35;1mCrianca Columns (3.9ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (5.7ms)[0m   [0;1mSELECT * FROM `criancas` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;36;1mCrianca Load (3.9ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_consultas (844.6ms)
Completed in 1408ms (View: 791, DB: 72) | 200 OK [http://localhost/criancas/consulta]


Processing CriancasController#class_unid (for 127.0.0.1 at 2010-07-28 11:47:06) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "grupo_grupo_class_id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` [0m
Completed in 657ms (View: 0, DB: 10) | 200 OK [http://localhost/criancas/class_unid]


Processing CriancasController#classif (for 127.0.0.1 at 2010-07-28 11:47:09) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "unidade_unidade_class_id"=>"52"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.3ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (20.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (grupo_id = 1 and option1 = 52 and matricula != 1) ORDER BY servidor_publico desc, transferencia desc, created_at[0m
Completed in 565ms (View: 0, DB: 30) | 200 OK [http://localhost/criancas/classif]


Processing CriancasController#classif (for 127.0.0.1 at 2010-07-28 11:47:13) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "unidade_unidade_class_id"=>"15"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (12.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (grupo_id = 1 and option1 = 15 and matricula != 1) ORDER BY servidor_publico desc, transferencia desc, created_at[0m
  [4;35;1mCrianca Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 15) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 8) LIMIT 1[0m
  [4;35;1mGrupo Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 1) [0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mMatricula Columns (3.9ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.7ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`crianca_id` = 4) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 1) [0m
  [4;36;1mMatricula Load (0.6ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`crianca_id` = 1542) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 15) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 1) [0m
  [4;35;1mMatricula Load (0.7ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`crianca_id` = 1543) LIMIT 1[0m
Rendered criancas/_listar_criancas (284.5ms)
Completed in 886ms (View: 288, DB: 34) | 200 OK [http://localhost/criancas/classif]


Processing CriancasController#edit (for 127.0.0.1 at 2010-07-28 11:47:39) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mSQL (0.9ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 4) [0m
  [4;35;1mUnidade Load (13.6ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 4[0m
Rendering template within layouts/application
Rendering criancas/edit
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mRegiao Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `regiaos`[0m
  [4;36;1mGrupo Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 1) [0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 753ms (View: 153, DB: 28) | 200 OK [http://localhost/criancas/4/edit]


Processing CriancasController#edit (for 127.0.0.1 at 2010-07-28 11:47:41) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.5ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 4) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 4[0m
Rendering template within layouts/application
Rendering criancas/edit
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mRegiao Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `regiaos`[0m
  [4;35;1mGrupo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 1) [0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 826ms (View: 173, DB: 14) | 200 OK [http://localhost/criancas/4/edit]


Processing HomeController#index (for 127.0.0.1 at 2010-07-28 11:47:52) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mJoin Table Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 116ms (View: 70, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-07-28 11:47:53) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 71ms (View: 43, DB: 1) | 200 OK [http://localhost/]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 11:47:58) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.4ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (18.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` [0m
  [4;36;1mCrianca Load (0.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (493.0ms)
Completed in 1261ms (View: 562, DB: 20) | 200 OK [http://localhost/criancas]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 11:48:00) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (3.9ms)[0m   [0mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (15.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` [0m
  [4;36;1mCrianca Load (0.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (411.8ms)
Completed in 1364ms (View: 462, DB: 20) | 200 OK [http://localhost/criancas]


Processing CriancasController#consulta (for 127.0.0.1 at 2010-07-28 11:48:01) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mGrupo Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mCrianca Load (0.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;36;1mCrianca Load (0.6ms)[0m   [0;1mSelect * from criancas where matricula = 1 and unidade_matricula = option1[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSelect * from criancas where matricula = 1 and unidade_matricula = option2[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSelect * from criancas where matricula = 1 and unidade_matricula = option3[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (4.8ms)[0m   [0;1mSELECT * FROM `criancas` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;36;1mCrianca Load (3.5ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_consultas (692.2ms)
Completed in 1434ms (View: 687, DB: 24) | 200 OK [http://localhost/criancas/consulta]


Processing CriancasController#matric (for 127.0.0.1 at 2010-07-28 11:48:05) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
Rendered criancas/_matricular (267.4ms)
Completed in 880ms (View: 265, DB: 18) | 200 OK [http://localhost/criancas/matric]


Processing CriancasController#nome_crianca (for 127.0.0.1 at 2010-07-28 11:48:11) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_crianca_id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (6.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (0.9ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (id=1309) [0m
  [4;35;1mCrianca Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mUnidade Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.4ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 26) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 28) LIMIT 1[0m
  [4;35;1mGrupo Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 1) [0m
  [4;35;1mJoin Table Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_listar_para_matricula (79.4ms)
Completed in 852ms (View: 82, DB: 21) | 200 OK [http://localhost/criancas/nome_crianca]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 11:48:15) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.9ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 939ms (View: 220, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 11:48:17) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (9.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (1.3ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 708ms (View: 85, DB: 22) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 11:48:26) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (6.3ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (5.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.3ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.qtde_vagas):
    /app/models/crianca.rb:46:in `existe_vaga'
    /app/controllers/criancas_controller.rb:547:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (118.6ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (9.7ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 11:48:32) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"1309", "crianca"=>{"obs"=>"eeee", "unidade_matricula"=>"26", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"1"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (5.3ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mVaga Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.vagas_preenchidas):
    /app/models/crianca.rb:28:in `vaga_numero'
    /app/controllers/criancas_controller.rb:532:in `matricular'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (80.2ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (1.9ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 11:48:42) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (5.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 825ms (View: 81, DB: 17) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 11:48:47) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (6.9ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (5.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 800ms (View: 88, DB: 20) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 11:48:49) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (6.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 818ms (View: 83, DB: 18) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 11:48:55) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (8.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.qtde_vagas):
    /app/models/crianca.rb:46:in `existe_vaga'
    /app/controllers/criancas_controller.rb:547:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (79.7ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (1.8ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 11:50:46) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (5.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (5.6ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 958ms (View: 97, DB: 22) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 11:50:48) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.7ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 683ms (View: 88, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 11:50:58) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.8ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mRegiao Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `regiaos`[0m
  [4;35;1mCrianca Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mGrupo Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mVaga Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.qtde_vagas):
    /app/models/crianca.rb:46:in `existe_vaga'
    /app/controllers/criancas_controller.rb:547:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (187.9ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (1.8ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 11:51:14) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 636ms (View: 83, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 11:51:16) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 850ms (View: 233, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 11:51:19) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.qtde_vagas):
    /app/models/crianca.rb:46:in `existe_vaga'
    /app/controllers/criancas_controller.rb:547:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (113.8ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.5ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 11:52:11) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (5.8ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 790ms (View: 97, DB: 17) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 11:52:13) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 790ms (View: 87, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 11:52:17) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.8ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Load (0.5ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` IS NULL) LIMIT 1[0m
  [4;35;1mVaga Load (0.2ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` IS NULL) LIMIT 1[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` IS NULL) LIMIT 1[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` IS NULL) LIMIT 1[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` IS NULL) LIMIT 1[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` IS NULL) LIMIT 1[0m
  [4;36;1mVaga Load (0.6ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` IS NULL) LIMIT 1[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` IS NULL) LIMIT 1[0m
  [4;36;1mVaga Load (0.2ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mCrianca Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.qtde_vagas):
    /app/models/crianca.rb:46:in `existe_vaga'
    /app/controllers/criancas_controller.rb:547:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (153.5ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (3.1ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 11:54:34) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (5.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (5.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 1072ms (View: 225, DB: 18) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 11:54:37) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 703ms (View: 84, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 11:54:41) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.2ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.vagas_preenchidas):
    /app/models/crianca.rb:24:in `preenchidas'
    /app/controllers/criancas_controller.rb:550:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:587:in `instance_exec'
    /vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:587:in `initialize'
    /vendor/rails/actionpack/lib/action_view/helpers/capture_helper.rb:129:in `with_output_buffer'
    /vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:586:in `initialize'
    /vendor/rails/actionpack/lib/action_controller/base.rb:932:in `new'
    /vendor/rails/actionpack/lib/action_controller/base.rb:932:in `render_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /app/controllers/criancas_controller.rb:549:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (138.5ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.7ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 11:55:57) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 810ms (View: 216, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 11:55:59) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 678ms (View: 86, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 11:56:02) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.6ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.vagas_preenchidas):
    /app/models/crianca.rb:24:in `preenchidas'
    /app/controllers/criancas_controller.rb:550:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:587:in `instance_exec'
    /vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:587:in `initialize'
    /vendor/rails/actionpack/lib/action_view/helpers/capture_helper.rb:129:in `with_output_buffer'
    /vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:586:in `initialize'
    /vendor/rails/actionpack/lib/action_controller/base.rb:932:in `new'
    /vendor/rails/actionpack/lib/action_controller/base.rb:932:in `render_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /app/controllers/criancas_controller.rb:549:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (156.2ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.8ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 11:56:31) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"28"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (5.7ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.4ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '28') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mRegiao Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `regiaos`[0m
  [4;35;1mCrianca Columns (3.1ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mGrupo Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '28') LIMIT 1[0m


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.vagas_preenchidas):
    /app/models/crianca.rb:24:in `preenchidas'
    /app/controllers/criancas_controller.rb:550:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:587:in `instance_exec'
    /vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:587:in `initialize'
    /vendor/rails/actionpack/lib/action_view/helpers/capture_helper.rb:129:in `with_output_buffer'
    /vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:586:in `initialize'
    /vendor/rails/actionpack/lib/action_controller/base.rb:932:in `new'
    /vendor/rails/actionpack/lib/action_controller/base.rb:932:in `render_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /app/controllers/criancas_controller.rb:549:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (94.4ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (1.9ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 11:57:32) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.2ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mRegiao Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `regiaos`[0m
  [4;35;1mCrianca Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mGrupo Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.vagas_preenchidas):
    /app/models/crianca.rb:24:in `preenchidas'
    /app/controllers/criancas_controller.rb:550:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:587:in `instance_exec'
    /vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:587:in `initialize'
    /vendor/rails/actionpack/lib/action_view/helpers/capture_helper.rb:129:in `with_output_buffer'
    /vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:586:in `initialize'
    /vendor/rails/actionpack/lib/action_controller/base.rb:932:in `new'
    /vendor/rails/actionpack/lib/action_controller/base.rb:932:in `render_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /app/controllers/criancas_controller.rb:549:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (97.3ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.1ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 11:58:17) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"28"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.2ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '28') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mRegiao Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `regiaos`[0m
  [4;35;1mCrianca Columns (3.1ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mGrupo Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendering criancas/verifica_vagas
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '28') LIMIT 1[0m


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.vagas_preenchidas):
    /app/models/crianca.rb:24:in `preenchidas'
    /app/controllers/criancas_controller.rb:550:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:587:in `instance_exec'
    /vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:587:in `initialize'
    /vendor/rails/actionpack/lib/action_view/helpers/capture_helper.rb:129:in `with_output_buffer'
    /vendor/rails/actionpack/lib/action_view/helpers/prototype_helper.rb:586:in `initialize'
    /vendor/rails/actionpack/lib/action_controller/base.rb:932:in `new'
    /vendor/rails/actionpack/lib/action_controller/base.rb:932:in `render_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /app/controllers/criancas_controller.rb:549:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (366.2ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.1ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 11:59:30) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;35;1mSQL (1.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (5.5ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.2ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m
Completed in 17775ms (View: 2, DB: 14) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 11:59:48) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"28"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (6.3ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (7.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '28') LIMIT 1[0m
Completed in 9316ms (View: 2, DB: 20) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:22:21) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (5.8ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 556ms (View: 82, DB: 17) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:24:31) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 867ms (View: 103, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:24:33) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.9ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (13.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 866ms (View: 87, DB: 28) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:24:39) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (5.7ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.9ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mRegiao Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `regiaos`[0m
  [4;35;1mCrianca Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mGrupo Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendering criancas/guarda_anoletivo


ActionView::MissingTemplate (Missing template criancas/guarda_anoletivo.erb in view path /home/alexandre/demanda/app/views:):
    /vendor/rails/actionpack/lib/action_view/template.rb:95:in `find_full_path'
    /vendor/rails/actionpack/lib/action_view/template.rb:16:in `initialize'
    /vendor/rails/actionpack/lib/action_view/base.rb:332:in `new'
    /vendor/rails/actionpack/lib/action_view/base.rb:332:in `_unmemoized__pick_template'
    /vendor/rails/activesupport/lib/active_support/memoizable.rb:70:in `_pick_template'
    /vendor/rails/actionpack/lib/action_view/base.rb:256:in `render'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1174:in `render_for_file'
    /vendor/rails/actionpack/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /vendor/rails/actionpack/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1248:in `default_render'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:25:50) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 511ms (View: 84, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:25:52) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.5ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.3ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (1.0ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 533ms (View: 86, DB: 18) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:25:55) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.4ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.8ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.9ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering criancas/guarda_anoletivo


ActionView::MissingTemplate (Missing template criancas/guarda_anoletivo.erb in view path /home/alexandre/demanda/app/views:):
    /vendor/rails/actionpack/lib/action_view/template.rb:95:in `find_full_path'
    /vendor/rails/actionpack/lib/action_view/template.rb:16:in `initialize'
    /vendor/rails/actionpack/lib/action_view/base.rb:332:in `new'
    /vendor/rails/actionpack/lib/action_view/base.rb:332:in `_unmemoized__pick_template'
    /vendor/rails/activesupport/lib/active_support/memoizable.rb:70:in `_pick_template'
    /vendor/rails/actionpack/lib/action_view/base.rb:256:in `render'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1174:in `render_for_file'
    /vendor/rails/actionpack/lib/action_controller/base.rb:896:in `render_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /vendor/rails/actionpack/lib/action_controller/base.rb:868:in `render_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1248:in `default_render'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1254:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:26:36) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 915ms (View: 89, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:26:38) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 892ms (View: 88, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:26:39) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (5.3ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (23.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 774ms (View: 0, DB: 31) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:26:48) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.3ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m
Completed in 15740ms (View: 2, DB: 12) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:27:47) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.9ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 1074ms (View: 614, DB: 18) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:27:49) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.0ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.5ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 958ms (View: 97, DB: 18) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:27:51) [POST]
  Parameters: {"crianca_ano_letivo"=>"2011", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.9ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 399ms (View: 0, DB: 10) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:27:53) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 447ms (View: 0, DB: 10) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:27:56) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.6ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
Rendering criancas/verifica_vagas
  [4;36;1mVaga Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` IS NULL) LIMIT 1[0m
  [4;36;1mVaga Load (0.5ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m
Completed in 63047ms (View: 2, DB: 11) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:35:18) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 993ms (View: 96, DB: 17) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:35:21) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (7.0ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 1050ms (View: 89, DB: 18) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:35:23) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (5.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 854ms (View: 0, DB: 11) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:35:27) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (22.7ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.5ms)[0m   [0mselect * from vagas where unidade_id =26 and ano_letivo = 2010[0m


NoMethodError (undefined method `qtde_vagas' for []:Array):
    /app/models/crianca.rb:47:in `existe_vaga'
    /app/controllers/criancas_controller.rb:547:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (134.0ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (3.3ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:36:09) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.9ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 972ms (View: 91, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:36:11) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.4ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 823ms (View: 108, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:36:13) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 676ms (View: 0, DB: 10) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:36:14) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (5.0ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Load (0.2ms)[0m   [0;1mselect * from vagas where unidade_id =26 and ano_letivo = 2010[0m


NoMethodError (undefined method `qtde_vagas' for []:Array):
    /app/models/crianca.rb:47:in `existe_vaga'
    /app/controllers/criancas_controller.rb:547:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (447.1ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.2ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:37:08) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.0ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 627ms (View: 97, DB: 17) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:37:10) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 486ms (View: 86, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:37:12) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 387ms (View: 0, DB: 10) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:37:13) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.3ms)[0m   [0mselect * from vagas where unidade_id =26 and ano_letivo = 2010[0m


NoMethodError (undefined method `qtde_vagas' for []:Array):
    /app/models/crianca.rb:47:in `existe_vaga'
    /app/controllers/criancas_controller.rb:547:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (126.2ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.6ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:38:15) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 534ms (View: 86, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:38:17) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 515ms (View: 89, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:38:20) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.5ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.9ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 785ms (View: 0, DB: 11) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:38:21) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (5.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Load (0.0ms)[0m   [0;1mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1' at line 1: select * from vagas where unidade_id =26 and ano_letivo = 2010LIMIT 1[0m


ActiveRecord::StatementInvalid (Mysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1' at line 1: select * from vagas where unidade_id =26 and ano_letivo = 2010LIMIT 1):
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:188:in `log'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/mysql_adapter.rb:309:in `execute'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/mysql_adapter.rb:563:in `select'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all_without_query_cache'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:81:in `cache_sql'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'
    /vendor/rails/activerecord/lib/active_record/base.rb:635:in `find_by_sql'
    /app/models/crianca.rb:45:in `existe_vaga'
    /app/controllers/criancas_controller.rb:547:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (155.4ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.9ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:38:46) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 752ms (View: 87, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:38:48) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 789ms (View: 87, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:38:49) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 701ms (View: 0, DB: 10) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:38:51) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (5.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.5ms)[0m   [0mselect * from vagas where unidade_id =26 and ano_letivo = 2010 LIMIT 1[0m


NoMethodError (undefined method `qtde_vagas' for []:Array):
    /app/models/crianca.rb:47:in `existe_vaga'
    /app/controllers/criancas_controller.rb:547:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (131.7ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.8ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:39:35) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.7ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 887ms (View: 93, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:39:38) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 883ms (View: 93, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:39:40) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.3ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 843ms (View: 0, DB: 10) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:39:41) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.3ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (5.5ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Load (1.4ms)[0m   [0;1mselect * from vagas where unidade_id =26 and ano_letivo = 2010 LIMIT 1[0m
Completed in 13679ms (View: 2, DB: 13) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:40:04) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.9ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 495ms (View: 86, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:40:06) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (1.4ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (5.9ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 562ms (View: 90, DB: 18) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:40:08) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 417ms (View: 0, DB: 10) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:40:09) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.7ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.9ms)[0m   [0mselect * from vagas where unidade_id =26 and ano_letivo = 2010 LIMIT 1[0m
Completed in 23812ms (View: 1, DB: 11) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:40:36) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.9ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (3.1ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 917ms (View: 92, DB: 17) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:40:38) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.5ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 785ms (View: 90, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:40:39) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (8.9ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 717ms (View: 0, DB: 15) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:40:40) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Load (0.7ms)[0m   [0;1mselect * from vagas where unidade_id =26 and ano_letivo = 2010 LIMIT 1[0m
Completed in 8155ms (View: 2, DB: 10) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing VagasController#new (for 127.0.0.1 at 2010-07-28 12:40:54) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mVaga Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
Rendering template within layouts/application
Rendering vagas/new
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 137ms (View: 108, DB: 5) | 200 OK [http://localhost/vagas/new]


Processing VagasController#new (for 127.0.0.1 at 2010-07-28 12:40:56) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mVaga Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
Rendering template within layouts/application
Rendering vagas/new
  [4;36;1mUnidade Load (1.2ms)[0m   [0;1mSELECT * FROM `unidades` [0m
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 187ms (View: 148, DB: 7) | 200 OK [http://localhost/vagas/new]


Processing VagasController#create (for 127.0.0.1 at 2010-07-28 12:41:38) [POST]
  Parameters: {"commit"=>"Cadastrar", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "vaga"=>{"unidade_id"=>"26", "ano_letivo"=>"2010", "qtde_vagas"=>"30"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mVaga Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mVaga Create (0.3ms)[0m   [0mINSERT INTO `vagas` (`created_at`, `updated_at`, `unidade_id`, `qtde_vagas`, `vagas_preenchidas`, `ano_letivo`) VALUES('2010-07-28 15:41:38', '2010-07-28 15:41:38', 26, 30, 0, 2010)[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mCOMMIT[0m
Redirected to #<Vaga:0xb4d8674c>
Completed in 35ms (DB: 6) | 302 Found [http://localhost/vagas]


Processing VagasController#show (for 127.0.0.1 at 2010-07-28 12:41:39) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mVaga Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.3ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`id` = 6) [0m
Rendering template within layouts/application
Rendering vagas/show
  [4;35;1mUnidade Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 26) [0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 201ms (View: 148, DB: 7) | 200 OK [http://localhost/vagas/6]


Processing VagasController#show (for 127.0.0.1 at 2010-07-28 12:41:40) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`id` = 6) [0m
Rendering template within layouts/application
Rendering vagas/show
  [4;36;1mUnidade Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 26) [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 151ms (View: 117, DB: 6) | 200 OK [http://localhost/vagas/6]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:41:43) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.3ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 606ms (View: 121, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:41:50) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.9ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 488ms (View: 84, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:41:52) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.9ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 498ms (View: 84, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:41:57) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 898ms (View: 0, DB: 11) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:41:59) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (5.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.5ms)[0m   [0mselect * from vagas where unidade_id =26 and ano_letivo = 2010 LIMIT 1[0m
  [4;36;1mVaga Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m


NoMethodError (undefined method `qtde_vagas' for #<Array:0xb407d398>):
    /app/models/crianca.rb:47:in `existe_vaga'
    /app/controllers/criancas_controller.rb:547:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (146.8ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (3.0ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:42:24) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.0ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 896ms (View: 88, DB: 17) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:42:26) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 800ms (View: 85, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:42:28) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 674ms (View: 0, DB: 10) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:42:30) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.2ms)[0m   [0mselect * from vagas where unidade_id =26 and ano_letivo = 2010 LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m


NoMethodError (undefined method `qtde_vagas' for #<Array:0xb41db848>):
    /app/models/crianca.rb:47:in `existe_vaga'
    /app/controllers/criancas_controller.rb:547:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (135.2ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (3.0ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:45:38) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 797ms (View: 85, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:45:40) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 945ms (View: 132, DB: 17) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:45:41) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.3ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 890ms (View: 0, DB: 12) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:45:42) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m


ArgumentError (Unknown key(s): ano_letivo, unidade_id):
    /vendor/rails/activesupport/lib/active_support/core_ext/hash/keys.rb:47:in `assert_valid_keys'
    /vendor/rails/activerecord/lib/active_record/base.rb:2251:in `validate_find_options'
    /vendor/rails/activerecord/lib/active_record/base.rb:1804:in `find_by_unidade_id'
    /vendor/rails/activerecord/lib/active_record/base.rb:1800:in `send'
    /vendor/rails/activerecord/lib/active_record/base.rb:1800:in `method_missing_without_paginate'
    /vendor/plugins/will_paginate/lib/will_paginate/finder.rb:170:in `method_missing'
    /app/models/crianca.rb:46:in `existe_vaga'
    /app/controllers/criancas_controller.rb:547:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (535.2ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (3.2ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:47:38) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (15.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 924ms (View: 442, DB: 26) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:47:40) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.3ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (7.7ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1054ms (View: 97, DB: 22) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:47:42) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.9ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 385ms (View: 0, DB: 10) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:47:44) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m


ArgumentError (Unknown key(s): ano_letivo):
    /vendor/rails/activesupport/lib/active_support/core_ext/hash/keys.rb:47:in `assert_valid_keys'
    /vendor/rails/activerecord/lib/active_record/base.rb:2251:in `validate_find_options'
    /vendor/rails/activerecord/lib/active_record/base.rb:1804:in `find_by_unidade_id'
    /vendor/rails/activerecord/lib/active_record/base.rb:1800:in `send'
    /vendor/rails/activerecord/lib/active_record/base.rb:1800:in `method_missing_without_paginate'
    /vendor/plugins/will_paginate/lib/will_paginate/finder.rb:170:in `method_missing'
    /app/models/crianca.rb:46:in `existe_vaga'
    /app/controllers/criancas_controller.rb:547:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (123.5ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.8ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:54:41) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 543ms (View: 87, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:54:43) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (5.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 495ms (View: 84, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:54:44) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 419ms (View: 0, DB: 10) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:54:45) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (1.0ms)[0m   [0mSELECT * FROM `vagas` WHERE (unidade_id = '26' and ano_letivo = '2010') LIMIT 1[0m
  [4;36;1mVaga Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m


NoMethodError (undefined method `empty?' for #<Vaga:0xb2d97d8c>):
    /vendor/rails/activerecord/lib/active_record/attribute_methods.rb:255:in `method_missing'
    /app/models/crianca.rb:48:in `existe_vaga'
    /app/controllers/criancas_controller.rb:547:in `verifica_vagas'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (141.3ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.7ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:55:20) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (3.9ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 1057ms (View: 140, DB: 18) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 12:55:23) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 952ms (View: 84, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 12:55:24) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.5ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 844ms (View: 0, DB: 10) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:55:25) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.9ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (13.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.6ms)[0m   [0mSELECT * FROM `vagas` WHERE (unidade_id = '26' and ano_letivo = '2010') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.4ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m
Completed in 24112ms (View: 5, DB: 21) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:55:57) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"28"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.6ms)[0m   [0mSELECT * FROM `vagas` WHERE (unidade_id = '28' and ano_letivo = '2010') LIMIT 1[0m
Completed in 8374ms (View: 2, DB: 11) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 12:56:16) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.5ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (unidade_id = '26' and ano_letivo = '2010') LIMIT 1[0m
  [4;36;1mVaga Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m
Completed in 788ms (View: 7, DB: 12) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:03:40) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 824ms (View: 444, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:03:42) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 891ms (View: 84, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 13:03:47) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (7.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 471ms (View: 0, DB: 13) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 13:03:49) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (unidade_id = '26' and ano_letivo = '2010') LIMIT 1[0m
  [4;35;1mVaga Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m
Completed in 403ms (View: 4, DB: 11) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:04:26) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"1309", "crianca"=>{"obs"=>"aw", "unidade_matricula"=>"26", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"1"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to 
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mRegiao Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `regiaos`[0m
  [4;35;1mCrianca Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mGrupo Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mCrianca Load (0.3ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mVaga Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.4ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mVaga Load (1.3ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = 26) LIMIT 1[0m
  [4;36;1mVaga Update (13.3ms)[0m   [0;1mUPDATE `vagas` SET `updated_at` = '2010-07-28 16:07:23', `vagas_preenchidas` = 1 WHERE `id` = 6[0m
  [4;35;1mCrianca Update (10.6ms)[0m   [0mUPDATE `criancas` SET `updated_at` = '2010-07-28 16:07:23', `vaga_num` = '1/30', `unidade_matricula` = 26, `matricula` = 1, `obs` = 'aw', `historico_contato` = '', `ano_letivo` = 2010, `necessidade` = '' WHERE `id` = 1309[0m
  [4;36;1mSQL (9.3ms)[0m   [0;1mCOMMIT[0m
Redirected to /criancas/1309/matriculas/new


ActionController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
    /vendor/rails/actionpack/lib/action_controller/base.rb:1090:in `redirect_to_full_url'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1077:in `redirect_to'
    /app/controllers/criancas_controller.rb:536:in `matricular'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `call'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    /app/controllers/criancas_controller.rb:533:in `matricular'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (130.3ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (3.0ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:07:27) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (69.4ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (54.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (1.6ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 1212ms (View: 119, DB: 135) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:07:31) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.7ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 1048ms (View: 86, DB: 18) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:07:33) [GET]
  Parameters: {"id"=>"1309"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.7ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (5.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 1068ms (View: 121, DB: 20) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 13:07:39) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.4ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 798ms (View: 0, DB: 10) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 13:07:41) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"28"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.4ms)[0m   [0mSELECT * FROM `vagas` WHERE (unidade_id = '28' and ano_letivo = '2010') LIMIT 1[0m
Completed in 783ms (View: 1, DB: 10) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 13:07:42) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"26"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.4ms)[0m   [0mSELECT * FROM `vagas` WHERE (unidade_id = '26' and ano_letivo = '2010') LIMIT 1[0m
  [4;36;1mVaga Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.3ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '26') LIMIT 1[0m
Completed in 372ms (View: 3, DB: 11) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:07:48) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 478ms (View: 83, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:07:50) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 623ms (View: 131, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:07:59) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 488ms (View: 85, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:08:00) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.4ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 974ms (View: 81, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:08:01) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.4ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (6.3ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1024ms (View: 116, DB: 19) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:08:02) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.9ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1030ms (View: 84, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:08:03) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.4ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1002ms (View: 85, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:08:04) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1034ms (View: 85, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:08:06) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1054ms (View: 646, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:08:08) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.6ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.5ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (7.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1399ms (View: 88, DB: 21) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 13:08:21) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.5ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (23.8ms)[0m   [0mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;36;1mJoin Table Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (18.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` [0m
  [4;36;1mCrianca Load (13.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;35;1mCrianca Load (35.4ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (421.5ms)
Completed in 1746ms (View: 441, DB: 84) | 200 OK [http://localhost/criancas/]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 13:08:24) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (15.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` [0m
  [4;36;1mCrianca Load (0.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (229.8ms)
Completed in 1525ms (View: 277, DB: 20) | 200 OK [http://localhost/criancas/]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:08:30) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 459ms (View: 79, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:08:32) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.5ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 479ms (View: 80, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 13:09:26) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>""}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.3ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.4ms)[0m   [0mSELECT * FROM `vagas` WHERE (unidade_id = '' and ano_letivo = '2010') LIMIT 1[0m
Completed in 933ms (View: 1, DB: 10) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:09:31) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.8ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 957ms (View: 89, DB: 17) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:09:33) [GET]
  Parameters: {"id"=>"1309"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.6ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (5.5ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 1309) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 1309[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1128ms (View: 95, DB: 18) | 200 OK [http://localhost/criancas/update_matricular/1309]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 13:09:42) [GET]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (37.9ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (20.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` [0m
  [4;36;1mCrianca Load (0.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (250.0ms)
Completed in 1407ms (View: 305, DB: 54) | 200 OK [http://localhost/criancas]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 13:09:45) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (4.9ms)[0m   [0mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (16.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` [0m
  [4;36;1mCrianca Load (0.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (258.3ms)
Completed in 1308ms (View: 310, DB: 20) | 200 OK [http://localhost/criancas]


Processing CriancasController#matric (for 127.0.0.1 at 2010-07-28 13:09:47) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
  [4;35;1mCrianca Columns (3.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
Rendered criancas/_matricular (291.1ms)
Completed in 1312ms (View: 288, DB: 19) | 200 OK [http://localhost/criancas/matric]


Processing CriancasController#nome_crianca (for 127.0.0.1 at 2010-07-28 13:09:53) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_crianca_id"=>"794"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (8.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (0.4ms)[0m   [0mSELECT * FROM `criancas` WHERE (id=794) [0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;35;1mGrupo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 1) [0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_listar_para_matricula (54.3ms)
Completed in 981ms (View: 57, DB: 20) | 200 OK [http://localhost/criancas/nome_crianca]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:09:55) [GET]
  Parameters: {"id"=>"794"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.4ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 794[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 968ms (View: 88, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/794]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:09:57) [GET]
  Parameters: {"id"=>"794"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 794[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1080ms (View: 103, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/794]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 13:10:01) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.6ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 387ms (View: 0, DB: 10) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 13:10:03) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"16"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.4ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (5.7ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Load (0.3ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (unidade_id = '16' and ano_letivo = '2010') LIMIT 1[0m
Completed in 451ms (View: 1, DB: 12) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing VagasController#new (for 127.0.0.1 at 2010-07-28 13:10:15) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mVaga Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
Rendering template within layouts/application
Rendering vagas/new
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 138ms (View: 113, DB: 5) | 200 OK [http://localhost/vagas/new]


Processing VagasController#new (for 127.0.0.1 at 2010-07-28 13:10:16) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mVaga Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
Rendering template within layouts/application
Rendering vagas/new
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` [0m
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 183ms (View: 159, DB: 6) | 200 OK [http://localhost/vagas/new]


Processing VagasController#create (for 127.0.0.1 at 2010-07-28 13:10:23) [POST]
  Parameters: {"commit"=>"Cadastrar", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "vaga"=>{"unidade_id"=>"16", "ano_letivo"=>"2010", "qtde_vagas"=>"30"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mVaga Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mVaga Create (0.4ms)[0m   [0mINSERT INTO `vagas` (`created_at`, `updated_at`, `unidade_id`, `qtde_vagas`, `vagas_preenchidas`, `ano_letivo`) VALUES('2010-07-28 16:10:23', '2010-07-28 16:10:23', 16, 30, 0, 2010)[0m
  [4;36;1mSQL (38.7ms)[0m   [0;1mCOMMIT[0m
Redirected to #<Vaga:0xb3334d58>
Completed in 80ms (DB: 41) | 302 Found [http://localhost/vagas]


Processing VagasController#show (for 127.0.0.1 at 2010-07-28 13:10:24) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mSQL (0.7ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mVaga Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.3ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`id` = 7) [0m
Rendering template within layouts/application
Rendering vagas/show
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 170ms (View: 133, DB: 8) | 200 OK [http://localhost/vagas/7]


Processing VagasController#show (for 127.0.0.1 at 2010-07-28 13:10:25) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`id` = 7) [0m
Rendering template within layouts/application
Rendering vagas/show
  [4;36;1mUnidade Columns (6.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 129ms (View: 93, DB: 10) | 200 OK [http://localhost/vagas/7]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 13:10:32) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>""}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.3ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Load (0.3ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (unidade_id = '' and ano_letivo = '2010') LIMIT 1[0m
Completed in 841ms (View: 1, DB: 13) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 13:10:34) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"16"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.4ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (5.3ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Load (0.4ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (unidade_id = '16' and ano_letivo = '2010') LIMIT 1[0m
  [4;35;1mVaga Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.3ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '16') LIMIT 1[0m
Completed in 975ms (View: 5, DB: 15) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:10:46) [GET]
  Parameters: {"id"=>"794"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.6ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 794[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 919ms (View: 86, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/794]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:10:48) [GET]
  Parameters: {"id"=>"794"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 794[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 1016ms (View: 91, DB: 17) | 200 OK [http://localhost/criancas/update_matricular/794]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 13:10:50) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.9ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (6.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 1030ms (View: 0, DB: 15) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 13:10:51) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"16"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (5.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (unidade_id = '16' and ano_letivo = '2010') LIMIT 1[0m
  [4;36;1mVaga Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '16') LIMIT 1[0m
Completed in 484ms (View: 3, DB: 13) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:10:58) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"794", "crianca"=>{"obs"=>"sss", "unidade_matricula"=>"16", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"0"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.3ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (3.7ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;35;1mVaga Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '16') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '16') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCrianca Update (1.5ms)[0m   [0mUPDATE `criancas` SET `updated_at` = '2010-07-28 16:11:26', `vaga_num` = '1/30', `unidade_matricula` = 16, `matricula` = 0, `obs` = 'sss', `historico_contato` = '', `ano_letivo` = 2010, `necessidade` = '' WHERE `id` = 794[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1mCOMMIT[0m
Redirected to /criancas/794/matriculas/new
Completed in 28339ms (DB: 23) | 302 Found [http://localhost/criancas/794/matricular]


Processing MatriculasController#new (for 127.0.0.1 at 2010-07-28 13:11:27) [GET]
  Parameters: {"crianca_id"=>"794"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCrianca Columns (5.8ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.9ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id = 16) [0m
  [4;35;1mMatricula Columns (6.1ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendering template within layouts/application
Rendering matriculas/new
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mGrupo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 471ms (View: 256, DB: 18) | 200 OK [http://localhost/criancas/794/matriculas/new]


Processing MatriculasController#new (for 127.0.0.1 at 2010-07-28 13:11:29) [GET]
  Parameters: {"crianca_id"=>"794"}
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCrianca Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id = 16) [0m
  [4;35;1mMatricula Columns (3.9ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendering template within layouts/application
Rendering matriculas/new
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mGrupo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 325ms (View: 188, DB: 12) | 200 OK [http://localhost/criancas/794/matriculas/new]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 13:13:52) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (82.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (58.9ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (24.9ms)[0m   [0;1mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (17.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` [0m
  [4;35;1mCrianca Load (14.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;36;1mCrianca Load (25.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (764.6ms)
Completed in 1610ms (View: 781, DB: 209) | 200 OK [http://localhost/criancas]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 13:13:55) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.9ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.4ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (2.8ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (25.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` [0m
  [4;35;1mCrianca Load (1.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (264.9ms)
Completed in 1525ms (View: 324, DB: 25) | 200 OK [http://localhost/criancas]


Processing CriancasController#matric (for 127.0.0.1 at 2010-07-28 13:13:58) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.6ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mCrianca Load (3.5ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
Rendered criancas/_matricular (255.0ms)
Completed in 1192ms (View: 252, DB: 17) | 200 OK [http://localhost/criancas/matric]


Processing CriancasController#nome_crianca (for 127.0.0.1 at 2010-07-28 13:14:03) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_crianca_id"=>"794"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.8ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.9ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (0.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (id=794) [0m
  [4;35;1mCrianca Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;36;1mGrupo Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 1) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_listar_para_matricula (58.1ms)
Completed in 537ms (View: 61, DB: 20) | 200 OK [http://localhost/criancas/nome_crianca]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:14:05) [GET]
  Parameters: {"id"=>"794"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.3ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.3ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 794[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 1086ms (View: 101, DB: 17) | 200 OK [http://localhost/criancas/update_matricular/794]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:14:07) [GET]
  Parameters: {"id"=>"794"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 794[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 1028ms (View: 87, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/794]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 13:14:10) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 1024ms (View: 0, DB: 12) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:14:16) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"794", "crianca"=>{"obs"=>"sss", "unidade_matricula"=>"16", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"1"}}
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.4ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (4.1ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;35;1mVaga Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '16') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '16') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mVaga Load (0.4ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = 16) LIMIT 1[0m
  [4;36;1mVaga Update (0.4ms)[0m   [0;1mUPDATE `vagas` SET `updated_at` = '2010-07-28 16:14:20', `vagas_preenchidas` = 1 WHERE `id` = 7[0m
  [4;35;1mCrianca Update (0.4ms)[0m   [0mUPDATE `criancas` SET `updated_at` = '2010-07-28 16:14:20', `matricula` = 1 WHERE `id` = 794[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCOMMIT[0m
Redirected to /criancas/794/matriculas/new
Completed in 4186ms (DB: 22) | 302 Found [http://localhost/criancas/794/matricular]


Processing MatriculasController#new (for 127.0.0.1 at 2010-07-28 13:14:20) [GET]
  Parameters: {"crianca_id"=>"794"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCrianca Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.5ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id = 16) [0m
  [4;35;1mMatricula Columns (3.5ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendering template within layouts/application
Rendering matriculas/new
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mGrupo Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 473ms (View: 296, DB: 14) | 200 OK [http://localhost/criancas/794/matriculas/new]


Processing MatriculasController#new (for 127.0.0.1 at 2010-07-28 13:14:24) [GET]
  Parameters: {"crianca_id"=>"794"}
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCrianca Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 794) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id = 16) [0m
  [4;35;1mMatricula Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendering template within layouts/application
Rendering matriculas/new
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mGrupo Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 333ms (View: 197, DB: 14) | 200 OK [http://localhost/criancas/794/matriculas/new]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 13:15:04) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (69.6ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (50.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (23.8ms)[0m   [0;1mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (16.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` [0m
  [4;35;1mCrianca Load (13.5ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;36;1mCrianca Load (24.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (319.7ms)
Completed in 1612ms (View: 349, DB: 186) | 200 OK [http://localhost/criancas]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 13:15:07) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (15.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` [0m
  [4;35;1mCrianca Load (0.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (783.3ms)
Completed in 2101ms (View: 835, DB: 19) | 200 OK [http://localhost/criancas]


Processing CriancasController#matric (for 127.0.0.1 at 2010-07-28 13:15:16) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.4ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
Rendered criancas/_matricular (258.6ms)
Completed in 1295ms (View: 256, DB: 18) | 200 OK [http://localhost/criancas/matric]


Processing CriancasController#nome_crianca (for 127.0.0.1 at 2010-07-28 13:15:21) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_crianca_id"=>"638"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (0.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (id=638) [0m
  [4;35;1mCrianca Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 23) [0m
  [4;36;1mGrupo Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 4) [0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_listar_para_matricula (54.2ms)
Completed in 1080ms (View: 58, DB: 16) | 200 OK [http://localhost/criancas/nome_crianca]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:15:24) [GET]
  Parameters: {"id"=>"638"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.4ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 1274ms (View: 90, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/638]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:15:26) [GET]
  Parameters: {"id"=>"638"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.7ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 1138ms (View: 736, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/638]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 13:15:30) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 384ms (View: 0, DB: 10) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 13:15:34) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"23"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.3ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.4ms)[0m   [0mSELECT * FROM `vagas` WHERE (unidade_id = '23' and ano_letivo = '2010') LIMIT 1[0m
Completed in 393ms (View: 1, DB: 10) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing VagasController#new (for 127.0.0.1 at 2010-07-28 13:15:39) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
Rendering template within layouts/application
Rendering vagas/new
  [4;35;1mUnidade Load (1.1ms)[0m   [0mSELECT * FROM `unidades` [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 863ms (View: 830, DB: 6) | 200 OK [http://localhost/vagas/new]


Processing VagasController#new (for 127.0.0.1 at 2010-07-28 13:15:41) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
Rendering template within layouts/application
Rendering vagas/new
  [4;35;1mUnidade Load (1.4ms)[0m   [0mSELECT * FROM `unidades` [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 164ms (View: 117, DB: 7) | 200 OK [http://localhost/vagas/new]


Processing VagasController#create (for 127.0.0.1 at 2010-07-28 13:15:52) [POST]
  Parameters: {"commit"=>"Cadastrar", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "vaga"=>{"unidade_id"=>"23", "ano_letivo"=>"2010", "qtde_vagas"=>"30"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mVaga Create (0.2ms)[0m   [0;1mINSERT INTO `vagas` (`created_at`, `updated_at`, `unidade_id`, `qtde_vagas`, `vagas_preenchidas`, `ano_letivo`) VALUES('2010-07-28 16:15:52', '2010-07-28 16:15:52', 23, 30, 0, 2010)[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCOMMIT[0m
Redirected to #<Vaga:0xb0f7983c>
Completed in 33ms (DB: 4) | 302 Found [http://localhost/vagas]


Processing VagasController#show (for 127.0.0.1 at 2010-07-28 13:15:53) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.3ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`id` = 8) [0m
Rendering template within layouts/application
Rendering vagas/show
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 23) [0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 117ms (View: 92, DB: 5) | 200 OK [http://localhost/vagas/8]


Processing VagasController#show (for 127.0.0.1 at 2010-07-28 13:15:54) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mVaga Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`id` = 8) [0m
Rendering template within layouts/application
Rendering vagas/show
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 23) [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 109ms (View: 85, DB: 5) | 200 OK [http://localhost/vagas/8]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:16:00) [GET]
  Parameters: {"id"=>"638"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1069ms (View: 98, DB: 17) | 200 OK [http://localhost/criancas/update_matricular/638]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:16:03) [GET]
  Parameters: {"id"=>"638"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.6ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.6ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1151ms (View: 87, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/638]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 13:16:54) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (6.7ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 1204ms (View: 0, DB: 13) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 13:16:56) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"23"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.8ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Load (0.4ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (unidade_id = '23' and ano_letivo = '2010') LIMIT 1[0m
  [4;35;1mVaga Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.4ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
Completed in 1095ms (View: 5, DB: 13) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:17:03) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"638", "crianca"=>{"obs"=>"ooo", "unidade_matricula"=>"23", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"0"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.4ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (5.9ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mRegiao Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `regiaos`[0m
  [4;35;1mCrianca Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mGrupo Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mVaga Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering criancas/update_matricular


ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.nome) on line #3 of app/views/criancas/update_matricular.html.erb:
1: <div id="conteudo">
2:   <br/>
3:     <h1 align="center">Matricular Crian√ßa - <%= @matricula.nome %></h1>
4: <br/>
5: <% form_for(@matricula, :url => matricular_path(@matricula) ) do |f|%>
6:   <fieldset>

    app/views/criancas/update_matricular.html.erb:3
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:256:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:367:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:254:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1174:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:905:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    app/controllers/criancas_controller.rb:539:in `matricular'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/criancas_controller.rb:533:in `matricular'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (125.3ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.1ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:23:59) [GET]
  Parameters: {"id"=>"638"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (5.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1251ms (View: 92, DB: 17) | 200 OK [http://localhost/criancas/update_matricular/638]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 13:24:06) [POST]
  Parameters: {"crianca_ano_letivo"=>"", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (6.3ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 1017ms (View: 0, DB: 12) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 13:24:08) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (1.4ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.7ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (7.7ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (5.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 1111ms (View: 0, DB: 18) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 13:24:11) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>""}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.8ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (8.5ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (6.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.4ms)[0m   [0mSELECT * FROM `vagas` WHERE (unidade_id = '' and ano_letivo = '2010') LIMIT 1[0m
Completed in 1126ms (View: 1, DB: 17) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:24:14) [GET]
  Parameters: {"id"=>"638"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (7.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (4.6ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1220ms (View: 727, DB: 21) | 200 OK [http://localhost/criancas/update_matricular/638]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:24:17) [GET]
  Parameters: {"id"=>"638"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (5.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1166ms (View: 91, DB: 18) | 200 OK [http://localhost/criancas/update_matricular/638]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 13:24:19) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 366ms (View: 0, DB: 12) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 13:24:21) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"23"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.8ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (5.5ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (unidade_id = '23' and ano_letivo = '2010') LIMIT 1[0m
  [4;35;1mVaga Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.2ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
Completed in 595ms (View: 3, DB: 16) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:24:27) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"638", "crianca"=>{"obs"=>"sssss", "unidade_matricula"=>"23", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"0"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (3.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.5ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mVaga Columns (7.3ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.2ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering criancas/update_matricular


ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.nome) on line #3 of app/views/criancas/update_matricular.html.erb:
1: <div id="conteudo">
2:   <br/>
3:     <h1 align="center">Matricular Crian√ßa - <%= @matricula.nome %></h1>
4: <br/>
5: <% form_for(@matricula, :url => matricular_path(@matricula) ) do |f|%>
6:   <fieldset>

    app/views/criancas/update_matricular.html.erb:3
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:256:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:367:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:254:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1174:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:905:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    app/controllers/criancas_controller.rb:539:in `matricular'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/criancas_controller.rb:533:in `matricular'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (104.1ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (3.0ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:26:28) [GET]
  Parameters: {"id"=>"638"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 6244ms (View: 120, DB: 17) | 200 OK [http://localhost/criancas/update_matricular/638]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:26:41) [GET]
  Parameters: {"id"=>"638"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.3ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 9472ms (View: 139, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/638]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:26:52) [GET]
  Parameters: {"id"=>"638"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.4ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (3.9ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.3ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 8847ms (View: 138, DB: 18) | 200 OK [http://localhost/criancas/update_matricular/638]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 13:27:07) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 425ms (View: 0, DB: 10) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 13:27:09) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"23"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.4ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.9ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (unidade_id = '23' and ano_letivo = '2010') LIMIT 1[0m
  [4;36;1mVaga Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.2ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
Completed in 1231ms (View: 3, DB: 11) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:27:15) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"638", "crianca"=>{"obs"=>"p√ßpp", "unidade_matricula"=>"23", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"0"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCrianca Columns (3.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
Rendering template within layouts/application
Rendering criancas/matricular
  [4;36;1mCrianca Load (0.3ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mVaga Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 37831ms (View: 94, DB: 17) | 200 OK [http://localhost/criancas/638/matricular]


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:27:54) [GET]
  Parameters: {"id"=>"638"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.4ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (12.5ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (4.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m


NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]):
    /app/controllers/criancas_controller.rb:533:in `matricular'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (136.6ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (3.4ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:29:44) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"638", "crianca"=>{"obs"=>"p√ßpp", "unidade_matricula"=>"23", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"0"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.3ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (3.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mVaga Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering criancas/update_matricular


ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #19 of app/views/criancas/update_matricular.html.erb:
16:       </tr>
17:       <tr>
18:          <td><b>Unidade Matriculada</b></td>
19:          <td><%= f.collection_select :unidade_matricula, @unidade_matricula, :id, :nome, :include_blank => '' %> </td>
20:          <td> <div id="unidade"></div></td>
21:          <%= observe_field 'crianca_unidade_matricula',
22:            :with => 'crianca_unidade_matricula',

    vendor/rails/actionpack/lib/action_view/helpers/form_options_helper.rb:212:in `options_from_collection_for_select'
    vendor/rails/actionpack/lib/action_view/helpers/form_options_helper.rb:345:in `to_collection_select_tag'
    vendor/rails/actionpack/lib/action_view/helpers/form_options_helper.rb:133:in `collection_select'
    vendor/rails/actionpack/lib/action_view/helpers/form_options_helper.rb:380:in `collection_select'
    app/views/criancas/update_matricular.html.erb:19
    vendor/rails/actionpack/lib/action_view/helpers/form_helper.rb:313:in `fields_for'
    vendor/rails/actionpack/lib/action_view/helpers/form_helper.rb:253:in `form_for'
    app/views/criancas/update_matricular.html.erb:5
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:256:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:367:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:254:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1174:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:905:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    app/controllers/criancas_controller.rb:540:in `matricular'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/criancas_controller.rb:534:in `matricular'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (109.3ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.0ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:30:14) [GET]
  Parameters: {"id"=>"638"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (5.9ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (3.8ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 5052ms (View: 134, DB: 20) | 200 OK [http://localhost/criancas/update_matricular/638]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:30:29) [GET]
  Parameters: {"id"=>"638"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.5ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.9ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (5.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 6203ms (View: 127, DB: 20) | 200 OK [http://localhost/criancas/update_matricular/638]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:30:37) [GET]
  Parameters: {"id"=>"638"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.3ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (3.9ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 2548ms (View: 131, DB: 19) | 200 OK [http://localhost/criancas/update_matricular/638]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 13:30:45) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (21.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 1141ms (View: 0, DB: 28) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 13:30:46) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"23"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (unidade_id = '23' and ano_letivo = '2010') LIMIT 1[0m
  [4;36;1mVaga Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
Completed in 1078ms (View: 3, DB: 12) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:30:51) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"638", "crianca"=>{"obs"=>"ssss", "unidade_matricula"=>"23", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"0"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (6.4ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (1.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mVaga Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering criancas/update_matricular


ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #19 of app/views/criancas/update_matricular.html.erb:
16:       </tr>
17:       <tr>
18:          <td><b>Unidade Matriculada</b></td>
19:          <td><%= f.collection_select :unidade_matricula, @unidade_matricula, :id, :nome, :include_blank => '' %> </td>
20:          <td> <div id="unidade"></div></td>
21:          <%= observe_field 'crianca_unidade_matricula',
22:            :with => 'crianca_unidade_matricula',

    vendor/rails/actionpack/lib/action_view/helpers/form_options_helper.rb:212:in `options_from_collection_for_select'
    vendor/rails/actionpack/lib/action_view/helpers/form_options_helper.rb:345:in `to_collection_select_tag'
    vendor/rails/actionpack/lib/action_view/helpers/form_options_helper.rb:133:in `collection_select'
    vendor/rails/actionpack/lib/action_view/helpers/form_options_helper.rb:380:in `collection_select'
    app/views/criancas/update_matricular.html.erb:19
    vendor/rails/actionpack/lib/action_view/helpers/form_helper.rb:313:in `fields_for'
    vendor/rails/actionpack/lib/action_view/helpers/form_helper.rb:253:in `form_for'
    app/views/criancas/update_matricular.html.erb:5
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:256:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:367:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:254:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1174:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:905:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    app/controllers/criancas_controller.rb:540:in `matricular'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/criancas_controller.rb:534:in `matricular'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (129.7ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.4ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:31:52) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"638", "crianca"=>{"obs"=>"ssss", "unidade_matricula"=>"23", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"0"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (5.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
  [4;36;1mVaga Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 9041ms (View: 88, DB: 21) | 200 OK [http://localhost/criancas/638/matricular]


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:32:02) [GET]
  Parameters: {"id"=>"638"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.4ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (4.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.5ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (5.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m


NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]):
    /app/controllers/criancas_controller.rb:534:in `matricular'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (86.9ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.0ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 13:32:09) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (5.0ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (8.3ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (6.3ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 1314ms (View: 0, DB: 22) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 13:32:10) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"23"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.5ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.3ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (unidade_id = '23' and ano_letivo = '2010') LIMIT 1[0m
  [4;35;1mVaga Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.2ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
Completed in 1203ms (View: 3, DB: 12) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:32:12) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"638", "crianca"=>{"obs"=>"sss", "unidade_matricula"=>"23", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"0"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.6ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
  [4;36;1mVaga Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 558ms (View: 74, DB: 19) | 200 OK [http://localhost/criancas/638/matricular]


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:32:15) [GET]
  Parameters: {"id"=>"638"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.4ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m


NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]):
    /app/controllers/criancas_controller.rb:534:in `matricular'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (80.1ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (1.9ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:32:27) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"638", "crianca"=>{"obs"=>"", "unidade_matricula"=>"", "necessidade"=>"", "ano_letivo"=>"", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"0"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.9ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (7.4ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (2.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (3.7ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.3ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
  [4;35;1mVaga Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.4ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '') LIMIT 1[0m


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.vagas_preenchidas):
    /app/models/crianca.rb:28:in `vaga_numero'
    /app/controllers/criancas_controller.rb:534:in `matricular'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (113.7ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.1ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:32:33) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"638", "crianca"=>{"obs"=>"sss", "unidade_matricula"=>"23", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"0"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.6ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.5ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (6.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
  [4;36;1mVaga Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 849ms (View: 82, DB: 25) | 200 OK [http://localhost/criancas/638/matricular]


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:32:36) [GET]
  Parameters: {"id"=>"638"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.8ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m


NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]):
    /app/controllers/criancas_controller.rb:534:in `matricular'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (81.4ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.2ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:33:21) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"638", "crianca"=>{"obs"=>"sss", "unidade_matricula"=>"23", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"0"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mVaga Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering criancas/update_matricular


ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.nome) on line #3 of app/views/criancas/update_matricular.html.erb:
1: <div id="conteudo">
2:   <br/>
3:     <h1 align="center">Matricular Crian√ßa - <%= @matricula.nome %></h1>
4: <br/>
5: <% form_for(@matricula, :url => matricular_path(@matricula) ) do |f|%>
6:   <fieldset>

    app/views/criancas/update_matricular.html.erb:3
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:256:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:367:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:254:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1174:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:905:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    app/controllers/criancas_controller.rb:539:in `matricular'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/criancas_controller.rb:533:in `matricular'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (107.2ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (835.9ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:33:29) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"638", "crianca"=>{"obs"=>"sss", "unidade_matricula"=>"23", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"0"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mVaga Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering criancas/update_matricular


ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.nome) on line #3 of app/views/criancas/update_matricular.html.erb:
1: <div id="conteudo">
2:   <br/>
3:     <h1 align="center">Matricular Crian√ßa - <%= @matricula.nome %></h1>
4: <br/>
5: <% form_for(@matricula, :url => matricular_path(@matricula) ) do |f|%>
6:   <fieldset>

    app/views/criancas/update_matricular.html.erb:3
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:256:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:367:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:254:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1174:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:905:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    app/controllers/criancas_controller.rb:539:in `matricular'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/criancas_controller.rb:533:in `matricular'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (928.7ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.2ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:33:39) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"638", "crianca"=>{"obs"=>"ssss", "unidade_matricula"=>"23", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"0"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.3ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.9ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (3.9ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mVaga Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering criancas/update_matricular


ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.nome) on line #3 of app/views/criancas/update_matricular.html.erb:
1: <div id="conteudo">
2:   <br/>
3:     <h1 align="center">Matricular Crian√ßa - <%= @matricula.nome %></h1>
4: <br/>
5: <% form_for(@matricula, :url => matricular_path(@matricula) ) do |f|%>
6:   <fieldset>

    app/views/criancas/update_matricular.html.erb:3
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:256:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:367:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:254:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1174:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:905:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    app/controllers/criancas_controller.rb:539:in `matricular'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/criancas_controller.rb:533:in `matricular'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (109.3ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.6ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:33:43) [GET]
  Parameters: {"id"=>"638"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (6.5ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1380ms (View: 87, DB: 17) | 200 OK [http://localhost/criancas/update_matricular/638]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:33:47) [GET]
  Parameters: {"id"=>"638"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.4ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1221ms (View: 85, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/638]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:33:49) [GET]
  Parameters: {"id"=>"638"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 638[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1245ms (View: 85, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/638]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 13:33:55) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 375ms (View: 0, DB: 10) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 13:33:57) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"23"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (unidade_id = '23' and ano_letivo = '2010') LIMIT 1[0m
  [4;35;1mVaga Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
Completed in 414ms (View: 3, DB: 11) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:34:00) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"638", "crianca"=>{"obs"=>"aaa", "unidade_matricula"=>"23", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"1"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mVaga Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '23') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mVaga Load (0.3ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = 23) LIMIT 1[0m
  [4;35;1mVaga Update (0.3ms)[0m   [0mUPDATE `vagas` SET `updated_at` = '2010-07-28 16:34:01', `vagas_preenchidas` = 1 WHERE `id` = 8[0m
  [4;36;1mCrianca Update (0.3ms)[0m   [0;1mUPDATE `criancas` SET `updated_at` = '2010-07-28 16:34:01', `vaga_num` = '1/30', `unidade_matricula` = 23, `matricula` = 1, `obs` = 'aaa', `historico_contato` = '', `ano_letivo` = 2010, `necessidade` = '' WHERE `id` = 638[0m
  [4;35;1mSQL (5.0ms)[0m   [0mCOMMIT[0m
Redirected to /criancas/638/matriculas/new
Completed in 508ms (DB: 19) | 302 Found [http://localhost/criancas/638/matricular]


Processing MatriculasController#new (for 127.0.0.1 at 2010-07-28 13:34:02) [GET]
  Parameters: {"crianca_id"=>"638"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.4ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mGrupo Load (0.3ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (id = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.4ms)[0m   [0mSELECT * FROM `unidades` WHERE (id = 23) [0m
  [4;36;1mMatricula Columns (4.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendering template within layouts/application
Rendering matriculas/new
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mGrupo Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 342ms (View: 200, DB: 13) | 200 OK [http://localhost/criancas/638/matriculas/new]


Processing MatriculasController#new (for 127.0.0.1 at 2010-07-28 13:34:04) [GET]
  Parameters: {"crianca_id"=>"638"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (id = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id = 23) [0m
  [4;36;1mMatricula Columns (3.8ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendering template within layouts/application
Rendering matriculas/new
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mGrupo Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 417ms (View: 285, DB: 12) | 200 OK [http://localhost/criancas/638/matriculas/new]


Processing MatriculasController#create (for 127.0.0.1 at 2010-07-28 13:34:24) [POST]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_id"=>"638", "matricula"=>{"ministrar_p_s"=>"0", "fone_com_mae"=>"", "tratamento"=>"0", "fone_res_mae"=>"", "horario_trab_pai"=>"", "fone_com_resp"=>"", "nome_resp"=>"", "nome_mae"=>"VERONICA MARINHO FERREIRA", "dt_nasc_pai(1i)"=>"2010", "idade_pai"=>"", "religiao"=>"", "livro_reg"=>"", "ano_1"=>"2008", "end_trab_resp"=>"", "idade_resp"=>"", "dt_nasc_pai(2i)"=>"7", "folhas_reg"=>"", "num_registro"=>"", "ano_2"=>"2008", "ap_fluor"=>"0", "dt_nasc_mae(1i)"=>"2010", "dt_nasc_pai(3i)"=>"28", "ano_3"=>"2008", "ra"=>"", "horario_trab_mae"=>"", "dt_nasc_mae(2i)"=>"7", "idade_mae"=>"", "fone_celular_pai"=>"", "profissao_pai"=>"", "ano_4"=>"2008", "pc_tarde_1"=>"", "pc_manha_1"=>"", "unidade_id"=>"23", "atividades_extra_classe"=>"0", "num_filhos"=>"", "dt_nasc_mae(3i)"=>"28", "end_trab_pai"=>"", "uf"=>"", "pc_tarde_2"=>"", "pc_manha_2"=>"", "fone_res_resp"=>"", "fone_com_pai"=>"", "pc_tarde_3"=>"", "pc_manha_3"=>"", "grupo_1"=>"4", "tipo_relacionamento"=>"", "fone_celular_resp"=>"", "profissao_resp"=>"", "dt_nasc_resp(1i)"=>"2010", "fone_res_pai"=>"", "pc_tarde_4"=>"", "pc_manha_4"=>"", "grupo_2"=>"4", "dt_nasc_resp(2i)"=>"7", "profissao_mae"=>"", "nome_pai"=>"", "local_nascimento"=>"", "grupo_3"=>"4", "horario_trab_resp"=>"", "local_trabalho_resp"=>"", "dt_nasc_resp(3i)"=>"28", "end_trab_mae"=>"", "local_trabalho_pai"=>"", "cor_raca"=>"", "grupo_4"=>"4"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCrianca Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (id = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id = 23) [0m
  [4;36;1mMatricula Columns (5.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mMatricula Create (1.3ms)[0m   [0mINSERT INTO `matriculas` (`grupo_3`, `nome_pai`, `rua_emergencia`, `ano_4`, `idade_mae`, `created_at`, `fone_com_mae`, `grupo_4`, `atividades_extra_classe`, `unidade_id`, `ra`, `escolaridade_mae`, `end_trab_resp`, `estado_civil`, `profissao_pai`, `fone_celular_pai`, `horario_trab_pai`, `ano_letivo`, `dt_nasc_pai`, `num_emergencia`, `local_trabalho_pai`, `dt_nasc_resp`, `cor_raca`, `fone_com_pai`, `bairro_emergencia`, `idade_pai`, `nome_resp`, `escolaridade_pai`, `local_nascimento`, `fone_celular_resp`, `fone_res_resp`, `folhas_reg`, `num_registro`, `updated_at`, `fone_res_mae`, `tratamento`, `moradia`, `religiao`, `end_trab_mae`, `profissao_resp`, `ap_fluor`, `estado_civil_mae`, `nome_mae`, `tipo_relacionamento`, `num_filhos`, `pc_manha_1`, `idade_resp`, `fone_com_resp`, `ministrar_p_s`, `estado_civil_resp`, `profissao_mae`, `fone_celular_mae`, `uf`, `pc_manha_2`, `vaga_num`, `contato_emergencia`, `crianca_id`, `local_trabalho_resp`, `pc_manha_3`, `pc_tarde_1`, `horario_trab_mae`, `livro_reg`, `ano_1`, `dt_nasc_mae`, `horario_trab_resp`, `pc_manha_4`, `fone_res_pai`, `pc_tarde_2`, `escolaridade_resp`, `ano_2`, `pais_vivem_juntos`, `pc_tarde_3`, `grupo_1`, `PNE`, `local_trabalho_mae`, `ano_3`, `end_trab_pai`, `pc_tarde_4`, `grupo_2`, `telefone_emergencia`) VALUES(4, '', NULL, '2008', NULL, '2010-07-28 16:34:24', '', 4, 0, 23, NULL, NULL, '', NULL, '', '', '', NULL, '2010-07-28', NULL, '', '2010-07-28', '', '', NULL, NULL, '', NULL, '', '', '', NULL, '', '2010-07-28 16:34:24', '', 0, NULL, '', '', '', 0, NULL, 'VERONICA MARINHO FERREIRA', '', NULL, '', NULL, '', 0, NULL, '', NULL, '', '', '1/30', NULL, 638, '', '', '', '', '', '2008', '2010-07-28', '', '', '', '', NULL, '2008', NULL, '', 4, NULL, NULL, '2008', '', '', 4, NULL)[0m
  [4;36;1mSQL (6.8ms)[0m   [0;1mCOMMIT[0m
Redirected to #<Crianca:0xb113318c>#<Matricula:0xb10cb6b8>
Completed in 190ms (DB: 17) | 302 Found [http://localhost/criancas/638/matriculas]


Processing MatriculasController#show (for 127.0.0.1 at 2010-07-28 13:34:24) [GET]
  Parameters: {"id"=>"8", "crianca_id"=>"638"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (id = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id = 23) [0m
  [4;35;1mMatricula Columns (3.9ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.7ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 8 AND (`matriculas`.crianca_id = 638)) [0m
Rendering template within layouts/application
Rendering matriculas/show
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 23) [0m
  [4;35;1mGrupo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 4) [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 259ms (View: 155, DB: 13) | 200 OK [http://localhost/criancas/638/matriculas/8]


Processing MatriculasController#show (for 127.0.0.1 at 2010-07-28 13:34:26) [GET]
  Parameters: {"id"=>"8", "crianca_id"=>"638"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCrianca Columns (4.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` WHERE (id = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 638) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id = 23) [0m
  [4;35;1mMatricula Columns (5.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.5ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 8 AND (`matriculas`.crianca_id = 638)) [0m
Rendering template within layouts/application
Rendering matriculas/show
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 23) [0m
  [4;35;1mGrupo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 4) [0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 356ms (View: 150, DB: 16) | 200 OK [http://localhost/criancas/638/matriculas/8]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 13:36:06) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (55.4ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (53.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (25.3ms)[0m   [0;1mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;35;1mJoin Table Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (16.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` [0m
  [4;35;1mCrianca Load (14.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;36;1mCrianca Load (24.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (292.6ms)
Completed in 1807ms (View: 306, DB: 177) | 200 OK [http://localhost/criancas]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 13:36:09) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (16.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` [0m
  [4;35;1mCrianca Load (0.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;36;1mCrianca Load (4.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (950.8ms)
Completed in 2423ms (View: 1000, DB: 21) | 200 OK [http://localhost/criancas]


Processing CriancasController#matric (for 127.0.0.1 at 2010-07-28 13:36:11) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mCrianca Load (3.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
Rendered criancas/_matricular (297.4ms)
Completed in 1518ms (View: 304, DB: 17) | 200 OK [http://localhost/criancas/matric]


Processing CriancasController#nome_crianca (for 127.0.0.1 at 2010-07-28 13:36:18) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_crianca_id"=>"751"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.7ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.9ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (0.5ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (id=751) [0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
  [4;36;1mGrupo Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_listar_para_matricula (57.3ms)
Completed in 1266ms (View: 61, DB: 17) | 200 OK [http://localhost/criancas/nome_crianca]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:36:21) [GET]
  Parameters: {"id"=>"751"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.5ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.5ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 751[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 1359ms (View: 90, DB: 18) | 200 OK [http://localhost/criancas/update_matricular/751]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:36:23) [GET]
  Parameters: {"id"=>"751"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (5.0ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 751[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 1262ms (View: 851, DB: 17) | 200 OK [http://localhost/criancas/update_matricular/751]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 13:36:26) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (9.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 506ms (View: 0, DB: 15) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing VagasController#index (for 127.0.0.1 at 2010-07-28 13:36:32) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Load (0.4ms)[0m   [0;1mSELECT * FROM `vagas` [0m
Rendering template within layouts/application
Rendering vagas/index
  [4;35;1mVaga Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 1) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 3) [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 39) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 9) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 1) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 26) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 23) [0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 152ms (View: 125, DB: 7) | 200 OK [http://localhost/vagas]


Processing VagasController#index (for 127.0.0.1 at 2010-07-28 13:36:33) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` [0m
Rendering template within layouts/application
Rendering vagas/index
  [4;35;1mVaga Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 1) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 3) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 39) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 9) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 1) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 26) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 23) [0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 149ms (View: 125, DB: 6) | 200 OK [http://localhost/vagas]


Processing VagasController#new (for 127.0.0.1 at 2010-07-28 13:36:36) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
Rendering template within layouts/application
Rendering vagas/new
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 907ms (View: 125, DB: 7) | 200 OK [http://localhost/vagas/new]


Processing VagasController#new (for 127.0.0.1 at 2010-07-28 13:36:38) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
Rendering template within layouts/application
Rendering vagas/new
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 134ms (View: 110, DB: 5) | 200 OK [http://localhost/vagas/new]


Processing VagasController#create (for 127.0.0.1 at 2010-07-28 13:36:47) [POST]
  Parameters: {"commit"=>"Cadastrar", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "vaga"=>{"unidade_id"=>"2", "ano_letivo"=>"2010", "qtde_vagas"=>"30"}}
  [4;36;1mSQL (1.6ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mVaga Create (0.3ms)[0m   [0;1mINSERT INTO `vagas` (`created_at`, `updated_at`, `unidade_id`, `qtde_vagas`, `vagas_preenchidas`, `ano_letivo`) VALUES('2010-07-28 16:36:47', '2010-07-28 16:36:47', 2, 30, 0, 2010)[0m
  [4;35;1mSQL (3.3ms)[0m   [0mCOMMIT[0m
Redirected to #<Vaga:0xb0d809e0>
Completed in 51ms (DB: 7) | 302 Found [http://localhost/vagas]


Processing VagasController#show (for 127.0.0.1 at 2010-07-28 13:36:48) [GET]
  Parameters: {"id"=>"9"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mVaga Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.4ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`id` = 9) [0m
Rendering template within layouts/application
Rendering vagas/show
  [4;36;1mUnidade Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 143ms (View: 108, DB: 6) | 200 OK [http://localhost/vagas/9]


Processing VagasController#show (for 127.0.0.1 at 2010-07-28 13:36:49) [GET]
  Parameters: {"id"=>"9"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mVaga Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`id` = 9) [0m
Rendering template within layouts/application
Rendering vagas/show
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 115ms (View: 91, DB: 5) | 200 OK [http://localhost/vagas/9]


Processing CriancasController#verifica_vagas (for 127.0.0.1 at 2010-07-28 13:36:56) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_unidade_matricula"=>"2"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (6.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mVaga Load (0.4ms)[0m   [0mSELECT * FROM `vagas` WHERE (unidade_id = '2' and ano_letivo = '2010') LIMIT 1[0m
  [4;36;1mVaga Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.3ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '2') LIMIT 1[0m
Completed in 1236ms (View: 3, DB: 15) | 200 OK [http://localhost/criancas/verifica_vagas]


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:37:04) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"751", "crianca"=>{"obs"=>"ppp", "unidade_matricula"=>"2", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"0"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mVaga Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '2') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '2') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering criancas/update_matricular


ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.nome) on line #3 of app/views/criancas/update_matricular.html.erb:
1: <div id="conteudo">
2:   <br/>
3:     <h1 align="center">Matricular Crian√ßa - <%= @matricula.nome %></h1>
4: <br/>
5: <% form_for(@matricula, :url => matricular_path(@matricula) ) do |f|%>
6:   <fieldset>

    app/views/criancas/update_matricular.html.erb:3
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:39:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:256:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:367:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:254:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1174:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:905:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    app/controllers/criancas_controller.rb:539:in `matricular'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/criancas_controller.rb:533:in `matricular'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (106.0ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.1ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:52:38) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"751", "crianca"=>{"obs"=>"ppp", "unidade_matricula"=>"2", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"0"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.9ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mVaga Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.1ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '2') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '2') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCrianca Update (0.4ms)[0m   [0mUPDATE `criancas` SET `updated_at` = '2010-07-28 16:52:40', `vaga_num` = '1/30', `unidade_matricula` = 2, `matricula` = 0, `obs` = 'ppp', `historico_contato` = '', `ano_letivo` = 2010, `necessidade` = '' WHERE `id` = 751[0m
  [4;36;1mSQL (31.3ms)[0m   [0;1mCOMMIT[0m
Redirected to /criancas/751/matriculas/new
Completed in 1443ms (DB: 47) | 302 Found [http://localhost/criancas/751/matricular]


Processing MatriculasController#new (for 127.0.0.1 at 2010-07-28 13:52:40) [GET]
  Parameters: {"crianca_id"=>"751"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCrianca Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (id = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id = 2) [0m
  [4;35;1mMatricula Columns (3.9ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendering template within layouts/application
Rendering matriculas/new
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mGrupo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 1182ms (View: 1054, DB: 12) | 200 OK [http://localhost/criancas/751/matriculas/new]


Processing MatriculasController#new (for 127.0.0.1 at 2010-07-28 13:52:43) [GET]
  Parameters: {"crianca_id"=>"751"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCrianca Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` WHERE (id = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id = 2) [0m
  [4;35;1mMatricula Columns (3.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendering template within layouts/application
Rendering matriculas/new
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mGrupo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 344ms (View: 206, DB: 11) | 200 OK [http://localhost/criancas/751/matriculas/new]


Processing MatriculasController#create (for 127.0.0.1 at 2010-07-28 13:52:59) [POST]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_id"=>"751", "matricula"=>{"ministrar_p_s"=>"0", "fone_com_mae"=>"", "tratamento"=>"0", "fone_res_mae"=>"", "horario_trab_pai"=>"", "fone_com_resp"=>"", "nome_resp"=>"", "nome_mae"=>"LILIAN GIANNE DE CARVALHO", "dt_nasc_pai(1i)"=>"2010", "idade_pai"=>"", "religiao"=>"", "livro_reg"=>"", "ano_1"=>"2008", "end_trab_resp"=>"", "idade_resp"=>"", "dt_nasc_pai(2i)"=>"7", "folhas_reg"=>"", "num_registro"=>"", "ano_2"=>"2008", "ap_fluor"=>"0", "dt_nasc_mae(1i)"=>"2010", "dt_nasc_pai(3i)"=>"28", "ano_3"=>"2008", "ra"=>"", "horario_trab_mae"=>"", "dt_nasc_mae(2i)"=>"7", "idade_mae"=>"", "fone_celular_pai"=>"", "profissao_pai"=>"", "ano_4"=>"2008", "pc_tarde_1"=>"", "pc_manha_1"=>"", "unidade_id"=>"2", "atividades_extra_classe"=>"0", "num_filhos"=>"", "dt_nasc_mae(3i)"=>"28", "end_trab_pai"=>"", "uf"=>"", "pc_tarde_2"=>"", "pc_manha_2"=>"", "fone_res_resp"=>"", "fone_com_pai"=>"", "pc_tarde_3"=>"", "pc_manha_3"=>"", "grupo_1"=>"6", "tipo_relacionamento"=>"", "fone_celular_resp"=>"", "profissao_resp"=>"", "dt_nasc_resp(1i)"=>"2010", "fone_res_pai"=>"", "pc_tarde_4"=>"", "pc_manha_4"=>"", "grupo_2"=>"6", "dt_nasc_resp(2i)"=>"7", "profissao_mae"=>"", "nome_pai"=>"", "local_nascimento"=>"", "grupo_3"=>"6", "horario_trab_resp"=>"", "local_trabalho_resp"=>"", "dt_nasc_resp(3i)"=>"28", "end_trab_mae"=>"", "local_trabalho_pai"=>"", "cor_raca"=>"", "grupo_4"=>"6"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCrianca Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` WHERE (id = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id = 2) [0m
  [4;35;1mMatricula Columns (4.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mMatricula Create (0.6ms)[0m   [0;1mINSERT INTO `matriculas` (`grupo_3`, `nome_pai`, `rua_emergencia`, `ano_4`, `idade_mae`, `created_at`, `fone_com_mae`, `grupo_4`, `atividades_extra_classe`, `unidade_id`, `ra`, `escolaridade_mae`, `end_trab_resp`, `estado_civil`, `profissao_pai`, `fone_celular_pai`, `horario_trab_pai`, `ano_letivo`, `dt_nasc_pai`, `num_emergencia`, `local_trabalho_pai`, `dt_nasc_resp`, `cor_raca`, `fone_com_pai`, `bairro_emergencia`, `idade_pai`, `nome_resp`, `escolaridade_pai`, `local_nascimento`, `fone_celular_resp`, `fone_res_resp`, `folhas_reg`, `num_registro`, `updated_at`, `fone_res_mae`, `tratamento`, `moradia`, `religiao`, `end_trab_mae`, `profissao_resp`, `ap_fluor`, `estado_civil_mae`, `nome_mae`, `tipo_relacionamento`, `num_filhos`, `pc_manha_1`, `idade_resp`, `fone_com_resp`, `ministrar_p_s`, `estado_civil_resp`, `profissao_mae`, `fone_celular_mae`, `uf`, `pc_manha_2`, `vaga_num`, `contato_emergencia`, `crianca_id`, `local_trabalho_resp`, `pc_manha_3`, `pc_tarde_1`, `horario_trab_mae`, `livro_reg`, `ano_1`, `dt_nasc_mae`, `horario_trab_resp`, `pc_manha_4`, `fone_res_pai`, `pc_tarde_2`, `escolaridade_resp`, `ano_2`, `pais_vivem_juntos`, `pc_tarde_3`, `grupo_1`, `PNE`, `local_trabalho_mae`, `ano_3`, `end_trab_pai`, `pc_tarde_4`, `grupo_2`, `telefone_emergencia`) VALUES(6, '', NULL, '2008', NULL, '2010-07-28 16:52:59', '', 6, 0, 2, NULL, NULL, '', NULL, '', '', '', NULL, '2010-07-28', NULL, '', '2010-07-28', '', '', NULL, NULL, '', NULL, '', '', '', NULL, '', '2010-07-28 16:52:59', '', 0, NULL, '', '', '', 0, NULL, 'LILIAN GIANNE DE CARVALHO', '', NULL, '', NULL, '', 0, NULL, '', NULL, '', '', '1/30', NULL, 751, '', '', '', '', '', '2008', '2010-07-28', '', '', '', '', NULL, '2008', NULL, '', 6, NULL, NULL, '2008', '', '', 6, NULL)[0m
  [4;35;1mSQL (8.5ms)[0m   [0mCOMMIT[0m
Redirected to #<Crianca:0xb118c0d4>#<Matricula:0xb1120910>
Completed in 184ms (DB: 17) | 302 Found [http://localhost/criancas/751/matriculas]


Processing MatriculasController#show (for 127.0.0.1 at 2010-07-28 13:52:59) [GET]
  Parameters: {"id"=>"9", "crianca_id"=>"751"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCrianca Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (id = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id = 2) [0m
  [4;36;1mMatricula Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.6ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 9 AND (`matriculas`.crianca_id = 751)) [0m
Rendering template within layouts/application
Rendering matriculas/show
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
  [4;36;1mGrupo Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 289ms (View: 160, DB: 21) | 200 OK [http://localhost/criancas/751/matriculas/9]


Processing MatriculasController#show (for 127.0.0.1 at 2010-07-28 13:53:01) [GET]
  Parameters: {"id"=>"9", "crianca_id"=>"751"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCrianca Columns (4.9ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (id = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mUnidade Load (1.7ms)[0m   [0mSELECT * FROM `unidades` WHERE (id = 2) [0m
  [4;36;1mMatricula Columns (5.4ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 9 AND (`matriculas`.crianca_id = 751)) [0m
Rendering template within layouts/application
Rendering matriculas/show
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
  [4;36;1mGrupo Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1108ms (View: 162, DB: 18) | 200 OK [http://localhost/criancas/751/matriculas/9]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 13:53:06) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (58.7ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (70.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (39.0ms)[0m   [0mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;36;1mJoin Table Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (18.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` [0m
  [4;36;1mCrianca Load (13.5ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;35;1mCrianca Load (24.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (295.6ms)
Completed in 2188ms (View: 314, DB: 209) | 200 OK [http://localhost/criancas]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 13:53:11) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.5ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (3.9ms)[0m   [0mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;36;1mJoin Table Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (18.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` [0m
  [4;36;1mCrianca Load (0.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (996.1ms)
Completed in 2553ms (View: 1057, DB: 21) | 200 OK [http://localhost/criancas]


Processing CriancasController#matric (for 127.0.0.1 at 2010-07-28 13:53:16) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (5.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mCrianca Load (5.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
  [4;35;1mCrianca Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
Rendered criancas/_matricular (1332.9ms)
Completed in 1772ms (View: 1328, DB: 21) | 200 OK [http://localhost/criancas/matric]


Processing CriancasController#nome_crianca (for 127.0.0.1 at 2010-07-28 13:53:22) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_crianca_id"=>"751"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (0.5ms)[0m   [0mSELECT * FROM `criancas` WHERE (id=751) [0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mUnidade Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
  [4;35;1mGrupo Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;35;1mUnidade Load (0.4ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_listar_para_matricula (75.3ms)
Completed in 1392ms (View: 76, DB: 19) | 200 OK [http://localhost/criancas/nome_crianca]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:53:25) [GET]
  Parameters: {"id"=>"751"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (20.6ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mUnidade Load (0.4ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 751[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1317ms (View: 86, DB: 34) | 200 OK [http://localhost/criancas/update_matricular/751]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:53:29) [GET]
  Parameters: {"id"=>"751"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.5ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 751[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1482ms (View: 1038, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/751]


Processing CriancasController#guarda_anoletivo (for 127.0.0.1 at 2010-07-28 13:53:32) [POST]
  Parameters: {"crianca_ano_letivo"=>"2010", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 485ms (View: 0, DB: 11) | 200 OK [http://localhost/criancas/guarda_anoletivo]


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 13:53:35) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"751", "crianca"=>{"obs"=>"ppp", "unidade_matricula"=>"2", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"1"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.3ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mVaga Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '2') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mVaga Load (0.4ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = 2) LIMIT 1[0m
  [4;35;1mVaga Update (0.3ms)[0m   [0mUPDATE `vagas` SET `updated_at` = '2010-07-28 16:53:36', `vagas_preenchidas` = 1 WHERE `id` = 9[0m
  [4;36;1mCrianca Update (0.3ms)[0m   [0;1mUPDATE `criancas` SET `updated_at` = '2010-07-28 16:53:36', `matricula` = 1 WHERE `id` = 751[0m
  [4;35;1mSQL (33.3ms)[0m   [0mCOMMIT[0m
Redirected to /criancas/751/matriculas/new
Completed in 549ms (DB: 50) | 302 Found [http://localhost/criancas/751/matricular]


Processing MatriculasController#new (for 127.0.0.1 at 2010-07-28 13:53:37) [GET]
  Parameters: {"crianca_id"=>"751"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.5ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (id = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id = 2) [0m
  [4;36;1mMatricula Columns (4.1ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendering template within layouts/application
Rendering matriculas/new
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mGrupo Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 440ms (View: 284, DB: 13) | 200 OK [http://localhost/criancas/751/matriculas/new]


Processing MatriculasController#new (for 127.0.0.1 at 2010-07-28 13:53:39) [GET]
  Parameters: {"crianca_id"=>"751"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (id = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id = 2) [0m
  [4;36;1mMatricula Columns (6.2ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendering template within layouts/application
Rendering matriculas/new
  [4;35;1mUnidade Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mGrupo Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 399ms (View: 245, DB: 15) | 200 OK [http://localhost/criancas/751/matriculas/new]


Processing MatriculasController#create (for 127.0.0.1 at 2010-07-28 13:53:51) [POST]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_id"=>"751", "matricula"=>{"ministrar_p_s"=>"0", "fone_com_mae"=>"", "tratamento"=>"0", "fone_res_mae"=>"", "horario_trab_pai"=>"", "fone_com_resp"=>"", "nome_resp"=>"", "nome_mae"=>"LILIAN GIANNE DE CARVALHO", "dt_nasc_pai(1i)"=>"2010", "idade_pai"=>"", "religiao"=>"", "livro_reg"=>"", "ano_1"=>"2008", "end_trab_resp"=>"", "idade_resp"=>"", "dt_nasc_pai(2i)"=>"7", "folhas_reg"=>"", "num_registro"=>"", "ano_2"=>"2008", "ap_fluor"=>"0", "dt_nasc_mae(1i)"=>"2010", "dt_nasc_pai(3i)"=>"28", "ano_3"=>"2008", "ra"=>"", "horario_trab_mae"=>"", "dt_nasc_mae(2i)"=>"7", "idade_mae"=>"", "fone_celular_pai"=>"", "profissao_pai"=>"", "ano_4"=>"2008", "pc_tarde_1"=>"", "pc_manha_1"=>"", "unidade_id"=>"2", "atividades_extra_classe"=>"0", "num_filhos"=>"", "dt_nasc_mae(3i)"=>"28", "end_trab_pai"=>"", "uf"=>"", "pc_tarde_2"=>"", "pc_manha_2"=>"", "fone_res_resp"=>"", "fone_com_pai"=>"", "pc_tarde_3"=>"", "pc_manha_3"=>"", "grupo_1"=>"6", "tipo_relacionamento"=>"", "fone_celular_resp"=>"", "profissao_resp"=>"", "dt_nasc_resp(1i)"=>"2010", "fone_res_pai"=>"", "pc_tarde_4"=>"", "pc_manha_4"=>"", "grupo_2"=>"6", "dt_nasc_resp(2i)"=>"7", "profissao_mae"=>"", "nome_pai"=>"", "local_nascimento"=>"", "grupo_3"=>"6", "horario_trab_resp"=>"", "local_trabalho_resp"=>"", "dt_nasc_resp(3i)"=>"28", "end_trab_mae"=>"", "local_trabalho_pai"=>"", "cor_raca"=>"", "grupo_4"=>"6"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (id = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id = 2) [0m
  [4;36;1mMatricula Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mMatricula Create (0.6ms)[0m   [0mINSERT INTO `matriculas` (`grupo_3`, `nome_pai`, `rua_emergencia`, `ano_4`, `idade_mae`, `created_at`, `fone_com_mae`, `grupo_4`, `atividades_extra_classe`, `unidade_id`, `ra`, `escolaridade_mae`, `end_trab_resp`, `estado_civil`, `profissao_pai`, `fone_celular_pai`, `horario_trab_pai`, `ano_letivo`, `dt_nasc_pai`, `num_emergencia`, `local_trabalho_pai`, `dt_nasc_resp`, `cor_raca`, `fone_com_pai`, `bairro_emergencia`, `idade_pai`, `nome_resp`, `escolaridade_pai`, `local_nascimento`, `fone_celular_resp`, `fone_res_resp`, `folhas_reg`, `num_registro`, `updated_at`, `fone_res_mae`, `tratamento`, `moradia`, `religiao`, `end_trab_mae`, `profissao_resp`, `ap_fluor`, `estado_civil_mae`, `nome_mae`, `tipo_relacionamento`, `num_filhos`, `pc_manha_1`, `idade_resp`, `fone_com_resp`, `ministrar_p_s`, `estado_civil_resp`, `profissao_mae`, `fone_celular_mae`, `uf`, `pc_manha_2`, `vaga_num`, `contato_emergencia`, `crianca_id`, `local_trabalho_resp`, `pc_manha_3`, `pc_tarde_1`, `horario_trab_mae`, `livro_reg`, `ano_1`, `dt_nasc_mae`, `horario_trab_resp`, `pc_manha_4`, `fone_res_pai`, `pc_tarde_2`, `escolaridade_resp`, `ano_2`, `pais_vivem_juntos`, `pc_tarde_3`, `grupo_1`, `PNE`, `local_trabalho_mae`, `ano_3`, `end_trab_pai`, `pc_tarde_4`, `grupo_2`, `telefone_emergencia`) VALUES(6, '', NULL, '2008', NULL, '2010-07-28 16:53:51', '', 6, 0, 2, NULL, NULL, '', NULL, '', '', '', NULL, '2010-07-28', NULL, '', '2010-07-28', '', '', NULL, NULL, '', NULL, '', '', '', NULL, '', '2010-07-28 16:53:51', '', 0, NULL, '', '', '', 0, NULL, 'LILIAN GIANNE DE CARVALHO', '', NULL, '', NULL, '', 0, NULL, '', NULL, '', '', '1/30', NULL, 751, '', '', '', '', '', '2008', '2010-07-28', '', '', '', '', NULL, '2008', NULL, '', 6, NULL, NULL, '2008', '', '', 6, NULL)[0m
  [4;36;1mSQL (8.9ms)[0m   [0;1mCOMMIT[0m
Redirected to #<Crianca:0xb0ff05f4>#<Matricula:0xb0f8ecb4>
Completed in 194ms (DB: 17) | 302 Found [http://localhost/criancas/751/matriculas]


Processing MatriculasController#show (for 127.0.0.1 at 2010-07-28 13:53:51) [GET]
  Parameters: {"id"=>"10", "crianca_id"=>"751"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCrianca Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (id = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id = 2) [0m
  [4;35;1mMatricula Columns (4.5ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.6ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 10 AND (`matriculas`.crianca_id = 751)) [0m
Rendering template within layouts/application
Rendering matriculas/show
  [4;35;1mUnidade Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
  [4;35;1mGrupo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 257ms (View: 142, DB: 15) | 200 OK [http://localhost/criancas/751/matriculas/10]


Processing MatriculasController#show (for 127.0.0.1 at 2010-07-28 13:53:53) [GET]
  Parameters: {"id"=>"10", "crianca_id"=>"751"}
  [4;35;1mSQL (0.4ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCrianca Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (id = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 751) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id = 2) [0m
  [4;35;1mMatricula Columns (4.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 10 AND (`matriculas`.crianca_id = 751)) [0m
Rendering template within layouts/application
Rendering matriculas/show
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
  [4;35;1mGrupo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 6) [0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 268ms (View: 148, DB: 13) | 200 OK [http://localhost/criancas/751/matriculas/10]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 13:53:58) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.7ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (58.3ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (53.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (28.5ms)[0m   [0;1mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (16.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` [0m
  [4;35;1mCrianca Load (13.5ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;36;1mCrianca Load (21.5ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (279.4ms)
Completed in 1838ms (View: 298, DB: 180) | 200 OK [http://localhost/criancas]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 13:54:01) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.4ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (5.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (16.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` [0m
  [4;35;1mCrianca Load (0.7ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;36;1mCrianca Load (4.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (1139.4ms)
Completed in 1866ms (View: 1195, DB: 22) | 200 OK [http://localhost/criancas]


Processing CriancasController#consulta (for 127.0.0.1 at 2010-07-28 13:54:03) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.3ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mGrupo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mCrianca Load (1.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;35;1mCrianca Load (13.3ms)[0m   [0mSelect * from criancas where matricula = 1 and unidade_matricula = option1[0m
  [4;36;1mCrianca Load (13.4ms)[0m   [0;1mSelect * from criancas where matricula = 1 and unidade_matricula = option2[0m
  [4;35;1mCrianca Load (12.0ms)[0m   [0mSelect * from criancas where matricula = 1 and unidade_matricula = option3[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_consultas (583.7ms)
Completed in 1937ms (View: 540, DB: 62) | 200 OK [http://localhost/criancas/consulta]


Processing CriancasController#matric (for 127.0.0.1 at 2010-07-28 13:54:05) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.4ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (7.3ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
  [4;35;1mCrianca Columns (4.6ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
Rendered criancas/_matricular (333.5ms)
Completed in 1842ms (View: 329, DB: 24) | 200 OK [http://localhost/criancas/matric]


Processing CriancasController#nome_crianca (for 127.0.0.1 at 2010-07-28 13:54:15) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_crianca_id"=>"416"}
  [4;36;1mSQL (1.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.3ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (0.5ms)[0m   [0mSELECT * FROM `criancas` WHERE (id=416) [0m
  [4;36;1mCrianca Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 25) [0m
  [4;35;1mGrupo Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 4) [0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_listar_para_matricula (61.2ms)
Completed in 556ms (View: 64, DB: 20) | 200 OK [http://localhost/criancas/nome_crianca]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:54:18) [GET]
  Parameters: {"id"=>"416"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.5ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 416) [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 416[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1622ms (View: 135, DB: 19) | 200 OK [http://localhost/criancas/update_matricular/416]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 13:54:21) [GET]
  Parameters: {"id"=>"416"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.3ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (4.8ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 416) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 416[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1515ms (View: 88, DB: 19) | 200 OK [http://localhost/criancas/update_matricular/416]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 14:37:41) [GET]
  Parameters: {"id"=>"416"}
  [4;36;1mSQL (3.5ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (7.6ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (5.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (3.8ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 416) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 416[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1590ms (View: 147, DB: 26) | 200 OK [http://localhost/criancas/update_matricular/416]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 14:37:44) [GET]
  Parameters: {"id"=>"416"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (5.5ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 416) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 416[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 1340ms (View: 86, DB: 17) | 200 OK [http://localhost/criancas/update_matricular/416]


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 15:34:43) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"416", "crianca"=>{"obs"=>"", "unidade_matricula"=>"25", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"1"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.9ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 416) [0m
  [4;35;1mVaga Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (0.3ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '25') LIMIT 1[0m


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.vagas_preenchidas):
    /app/models/crianca.rb:28:in `vaga_numero'
    /app/controllers/criancas_controller.rb:532:in `matricular'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (132.0ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (19.7ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 15:35:43) [GET]
  Parameters: {"id"=>"416"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (16.4ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 416) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 416[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 1459ms (View: 85, DB: 27) | 200 OK [http://localhost/criancas/update_matricular/416]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-28 15:35:46) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (4.0ms)[0m   [0;1mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (17.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `criancas` [0m
  [4;35;1mCrianca Load (0.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (240.1ms)
Completed in 1729ms (View: 300, DB: 20) | 200 OK [http://localhost/criancas]


Processing CriancasController#matric (for 127.0.0.1 at 2010-07-28 15:35:52) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mJoin Table Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mCrianca Load (4.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
  [4;36;1mCrianca Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
Rendered criancas/_matricular (996.7ms)
Completed in 1441ms (View: 1012, DB: 20) | 200 OK [http://localhost/criancas/matric]


Processing CriancasController#nome_crianca (for 127.0.0.1 at 2010-07-28 15:35:59) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_crianca_id"=>"416"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (3.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (id=416) [0m
  [4;35;1mCrianca Columns (3.5ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 25) [0m
  [4;36;1mGrupo Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `grupos`[0m
  [4;35;1mGrupo Load (0.1ms)[0m   [0mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 4) [0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_listar_para_matricula (63.7ms)
Completed in 1388ms (View: 66, DB: 17) | 200 OK [http://localhost/criancas/nome_crianca]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 15:36:02) [GET]
  Parameters: {"id"=>"416"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.2ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 416) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 416[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 523ms (View: 88, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/416]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-28 15:36:05) [GET]
  Parameters: {"id"=>"416"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.1ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 416) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 416[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 519ms (View: 89, DB: 16) | 200 OK [http://localhost/criancas/update_matricular/416]


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 15:36:26) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"416", "crianca"=>{"obs"=>"", "unidade_matricula"=>"25", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"1"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (0.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.6ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCrianca Columns (3.9ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.3ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 416) [0m
  [4;36;1mVaga Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '25') LIMIT 1[0m
  [4;36;1mCrianca Load (0.2ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 416) [0m
  [4;35;1mVaga Load (0.2ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '25') LIMIT 1[0m


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.vagas_preenchidas):
    /app/models/crianca.rb:28:in `vaga_numero'
    /app/controllers/criancas_controller.rb:532:in `matricular'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (120.4ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.7ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 15:39:01) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"416", "crianca"=>{"obs"=>"", "unidade_matricula"=>"25", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"1"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.5ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (4.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mRegiao Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `regiaos`[0m
  [4;36;1mCrianca Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mGrupo Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 416) [0m
  [4;36;1mVaga Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '25') LIMIT 1[0m


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.vagas_preenchidas):
    /app/models/crianca.rb:27:in `vaga_numero'
    /app/controllers/criancas_controller.rb:532:in `matricular'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (1294.7ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (2.4ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-28 15:40:27) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"416", "crianca"=>{"obs"=>"", "unidade_matricula"=>"25", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"1"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.5ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 416) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mVaga Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `vagas`[0m
  [4;36;1mVaga Load (21.9ms)[0m   [0;1mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` IS NULL) LIMIT 1[0m
  [4;35;1mVaga Load (0.2ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` IS NULL) LIMIT 1[0m
  [4;36;1mVaga Load (0.0ms)[0m   [0;1mMysql::Error: MySQL server has gone away: SELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '25') LIMIT 1[0m


ActiveRecord::StatementInvalid (Mysql::Error: MySQL server has gone away: SELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '25')  LIMIT 1):
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:188:in `log'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/mysql_adapter.rb:309:in `execute'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/mysql_adapter.rb:563:in `select'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all_without_query_cache'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:81:in `cache_sql'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'
    /vendor/rails/activerecord/lib/active_record/base.rb:635:in `find_by_sql'
    /vendor/rails/activerecord/lib/active_record/base.rb:1490:in `find_every'
    /vendor/rails/activerecord/lib/active_record/base.rb:1452:in `find_initial'
    /vendor/rails/activerecord/lib/active_record/base.rb:587:in `find'
    /vendor/rails/activerecord/lib/active_record/base.rb:1812:in `find_by_unidade_id'
    /app/models/crianca.rb:27:in `vaga_numero'
    /app/controllers/criancas_controller.rb:532:in `matricular'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (171.0ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (4.7ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing CriancasController#matricular (for 127.0.0.1 at 2010-07-29 07:38:21) [PUT]
  Parameters: {"commit"=>"Matricular", "authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "id"=>"416", "crianca"=>{"obs"=>"", "unidade_matricula"=>"25", "necessidade"=>"", "ano_letivo"=>"2010", "historico_contato"=>"", "n_especial"=>"0", "matricula"=>"1"}}
  [4;35;1mSQL (10.5ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGrupo Load (19.2ms)[0m   [0mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;36;1mRegiao Load (0.2ms)[0m   [0;1mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;36;1mCrianca Load (6.5ms)[0m   [0;1mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;35;1mCrianca Load (4.6ms)[0m   [0mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;36;1mUser Columns (47.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCrianca Columns (4.9ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mCrianca Load (0.2ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 416) [0m
  [4;36;1mVaga Columns (9.2ms)[0m   [0;1mSHOW FIELDS FROM `vagas`[0m
  [4;35;1mVaga Load (0.1ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = '25') LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mVaga Load (39.0ms)[0m   [0mSELECT * FROM `vagas` WHERE (`vagas`.`unidade_id` = 25) LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m


NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.qtde_vagas):
    /app/models/crianca.rb:40:in `subtrai_vaga'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:178:in `send'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:178:in `evaluate_method'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:166:in `call'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:93:in `run'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:92:in `each'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:92:in `send'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:92:in `run'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:277:in `run_callbacks'
    /vendor/rails/activerecord/lib/active_record/callbacks.rb:315:in `callback'
    /vendor/rails/activerecord/lib/active_record/callbacks.rb:221:in `create_or_update'
    /vendor/rails/activerecord/lib/active_record/base.rb:2383:in `save_without_validation'
    /vendor/rails/activerecord/lib/active_record/validations.rb:1009:in `save_without_dirty'
    /vendor/rails/activerecord/lib/active_record/dirty.rb:79:in `save_without_transactions'
    /vendor/rails/activerecord/lib/active_record/transactions.rb:179:in `send'
    /vendor/rails/activerecord/lib/active_record/transactions.rb:179:in `with_transaction_returning_status'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:66:in `transaction'
    /vendor/rails/activerecord/lib/active_record/transactions.rb:129:in `transaction'
    /vendor/rails/activerecord/lib/active_record/transactions.rb:138:in `transaction'
    /vendor/rails/activerecord/lib/active_record/transactions.rb:178:in `with_transaction_returning_status'
    /vendor/rails/activerecord/lib/active_record/transactions.rb:146:in `save'
    /vendor/rails/activerecord/lib/active_record/transactions.rb:158:in `rollback_active_record_state!'
    /vendor/rails/activerecord/lib/active_record/transactions.rb:146:in `save'
    /vendor/rails/activerecord/lib/active_record/base.rb:2470:in `update_attributes'
    /app/controllers/criancas_controller.rb:534:in `matricular'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:106:in `call'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:106:in `respond_to'
    /app/controllers/criancas_controller.rb:533:in `matricular'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /home/alexandre/.gem/ruby/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    ./script/server:3
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/lib/ruby-debug.rb:96:in `main'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.3.1/bin/rdebug-ide:76
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (168.2ms)
Rendered /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (3.5ms)
Rendering /home/alexandre/demanda/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2010-07-30 12:30:49) [GET]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (17.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mJoin Table Columns (16.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (1.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 142ms (View: 95, DB: 18) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-07-30 12:30:50) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 73ms (View: 44, DB: 1) | 200 OK [http://localhost/]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-30 12:31:12) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (36.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (1.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (3.7ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (107.5ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (51.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (29.1ms)[0m   [0mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (25.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` [0m
  [4;36;1mCrianca Load (13.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;35;1mCrianca Load (33.1ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (300.3ms)
Completed in 1489ms (View: 315, DB: 279) | 200 OK [http://localhost/criancas]


Processing CriancasController#index (for 127.0.0.1 at 2010-07-30 12:31:15) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.2ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.8ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (3.9ms)[0m   [0mSELECT * FROM `criancas` [0m
Rendering template within layouts/application
Rendering criancas/index
  [4;36;1mJoin Table Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_inicio (16.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `criancas` [0m
  [4;36;1mCrianca Load (0.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 1) [0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
Rendered criancas/_estatistica (416.8ms)
Completed in 1211ms (View: 467, DB: 20) | 200 OK [http://localhost/criancas]


Processing CriancasController#matric (for 127.0.0.1 at 2010-07-30 12:31:17) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (6.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mJoin Table Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`matricula` = 0) [0m
  [4;35;1mCrianca Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
Rendered criancas/_matricular (244.2ms)
Completed in 920ms (View: 241, DB: 20) | 200 OK [http://localhost/criancas/matric]


Processing CriancasController#nome_crianca (for 127.0.0.1 at 2010-07-30 12:31:31) [POST]
  Parameters: {"authenticity_token"=>"5d0ecba75900973a13722621fc08af31a1631514", "crianca_crianca_id"=>"416"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.1ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.0ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.9ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Load (0.5ms)[0m   [0mSELECT * FROM `criancas` WHERE (id=416) [0m
  [4;36;1mCrianca Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `criancas`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 25) [0m
  [4;35;1mGrupo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `grupos`[0m
  [4;36;1mGrupo Load (0.3ms)[0m   [0;1mSELECT * FROM `grupos` WHERE (`grupos`.`id` = 4) [0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered criancas/_listar_para_matricula (157.7ms)
Completed in 842ms (View: 160, DB: 18) | 200 OK [http://localhost/criancas/nome_crianca]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-30 12:31:34) [GET]
  Parameters: {"id"=>"416"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.2ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.6ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.4ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 416) [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 416[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 974ms (View: 235, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/416]


Processing CriancasController#update_matricular (for 127.0.0.1 at 2010-07-30 12:31:37) [GET]
  Parameters: {"id"=>"416"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mGrupo Load (0.2ms)[0m   [0;1mSELECT * FROM `grupos` ORDER BY nome[0m
  [4;35;1mRegiao Load (0.1ms)[0m   [0mSELECT * FROM `regiaos` ORDER BY nome[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome[0m
  [4;35;1mCrianca Load (4.1ms)[0m   [0mSELECT * FROM `criancas` ORDER BY nome ASC[0m
  [4;36;1mCrianca Load (3.7ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (matricula = 0) ORDER BY nome ASC[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCrianca Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `criancas`[0m
  [4;36;1mCrianca Load (0.1ms)[0m   [0;1mSELECT * FROM `criancas` WHERE (`criancas`.`id` = 416) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mselect u.id, u.nome from unidades u right join criancas c on u.id in (c.option1, c.option2, c.option3, c.option4) where c.id = 416[0m
Rendering template within layouts/application
Rendering criancas/update_matricular
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mJoin Table Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 772ms (View: 96, DB: 15) | 200 OK [http://localhost/criancas/update_matricular/416]
